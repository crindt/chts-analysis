<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="author" content="Linked Trip Summaries" />
  <title>2010 California Household Travel Survey</title>
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link rel="stylesheet" href="reveal.js/css/reveal.min.css"/>
    <style type="text/css">code{white-space: pre;}</style>
    <style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
    </style>
    <link rel="stylesheet" href="custom.css"/>
    <link rel="stylesheet" href="reveal.js/css/theme/beige.css"/>
  <link rel="stylesheet" media="print" href="reveal.js/css/print/pdf.css" />
  <!--[if lt IE 9]>
  <script src="reveal.js/lib/js/html5shiv.js"></script>
  <![endif]-->
</head>
<body>
  <div class="reveal">
    <div class="slides">

<section>
    <h1 class="title">2010 California Household Travel Survey</h1>
    <h2 class="author">Linked Trip Summaries</h2>
    <h3 class="date">2014-10-09 09:12:39</h3>
</section>

<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>These slides present a summary of the method being used to generate linked trip tables on the 2010 CHTS data.</p>
<ul>
<li><p>A <a href="present.pdf">pdf version</a> of this document</p></li>
<li><p>The linked trip table is available as a compressed SQL file upon request.</p></li>
<li><p>The code for this project is maintained as a git repository. Access is available upon request.</p></li>
<li><p>PLEASE NOTE: This is a working document very much still a draft. <strong><em>It was last updated on 2014-10-09 09:12:39</em></strong></p></li>
</ul>
</section>
<section id="change-log" class="level1">
<h1>Change Log</h1>
<pre class="sourceCode changelog" include="../../CHANGELOG"><code class="sourceCode changelog">
commit cf2438e7a7217d7588cc583f9395074bd1eb45dd
Author: Craig Rindt &lt;crindt@gmail.com&gt;
Date:   Wed Sep 10 00:17:36 2014 -0700

    <span class="dv">*</span> Added triptypes by region tables (still some work to do)
    <span class="dv">*</span> Tweaked css to reduce table font size for region tables
    <span class="dv">*</span> Streamlined group specifications for weekdays/weekends, and driver-trips/person-trips

commit 7bc125b889774c4652c55be4197a5d18ec5999ec
Author: Craig Rindt &lt;crindt@gmail.com&gt;
Date:   Tue Sep 9 17:41:52 2014 -0700

    <span class="dv">*</span> Merged code to set factors on raw data into load-trip-tables.R
    <span class="dv">*</span> Added some previously missing source files to repo.

commit b8bcbc7b03998096a15331c62adfe9f5e91fb2c9
Author: Craig Rindt &lt;crindt@gmail.com&gt;
Date:   Tue Sep 9 17:36:56 2014 -0700

    <span class="dv">*</span> Added note regarding git repo
    <span class="dv">*</span> Added script to sychronize slides

commit d1c2e668f0c1a61820edcb611321084de314ec0c
Author: Craig Rindt &lt;crindt@gmail.com&gt;
Date:   Tue Sep 9 17:31:24 2014 -0700

    Elaborated on the trip type definitions in the SQL functions

commit 18af2b6f3be1aadf06b63578f858f773e427a911
Author: Craig Rindt &lt;crindt@gmail.com&gt;
Date:   Tue Sep 9 17:06:56 2014 -0700

    Change margins to 1in on pdf output

commit be77bf463ceaef549f305540cd5e7731ed75986f
Author: Craig Rindt &lt;crindt@gmail.com&gt;
Date:   Tue Sep 9 17:02:32 2014 -0700

    <span class="dv">*</span> Removed linked trip table sql (shouldn&#39;t be public)
    <span class="dv">*</span> Add robots.txt to discourage crawlers

commit 98b147abdbc227ac99596012a01a07c1f70bd364
Author: Craig Rindt &lt;crindt@gmail.com&gt;
Date:   Tue Sep 9 16:53:30 2014 -0700

    <span class="dv">*</span> Switch to use of loaded code chunks (for reusability).
    <span class="dv">*</span> Included slide on how trip types are defined

commit 339a7fd04410751a17a45ec78c70668456cd1f73
Author: Craig Rindt &lt;crindt@gmail.com&gt;
Date:   Tue Sep 9 15:39:50 2014 -0700

    More cleanup

commit d8bcdda9657301735077af9ce2c2da2c3c745c5e
Author: Craig Rindt &lt;crindt@gmail.com&gt;
Date:   Tue Sep 9 15:39:38 2014 -0700

    Fix runit export/import command to use database directly

commit b53ee1578eff789ec5d8460e44fc04d1373bfed7
Author: Craig Rindt &lt;crindt@gmail.com&gt;
Date:   Tue Sep 9 15:38:28 2014 -0700

    Cleaning up unneeded files

commit dbab482bc80255af308bc6d76e7cc18cdc303ca5
Author: Craig Rindt &lt;crindt@gmail.com&gt;
Date:   Tue Sep 9 15:37:40 2014 -0700

    Initial commit</code></pre>
</section>
<section id="target-tools" class="level1">
<h1>Target Tools</h1>
<p>The following tools have been chosen as the target tools because they are mature and actively maintained free and open source software.</p>
<ul>
<li>Relational datastore: <a href="http://www.postgresql.org/">PostgresSQL</a></li>
<li>Statistical package: <a href="http://www.r-project.org">R</a></li>
</ul>
</section>
<section id="conversion-steps" class="level1">
<h1>Conversion steps</h1>
<section id="platform" class="level2">
<h2>Platform</h2>
<p>The following conversion was performed on a mid-level workstation running the 13.04 Ubuntu Linux distribution. Only open source tools were required. (Use down arrow to see details)</p>
</section>
<section id="convert-raw-ms-access-.mdb-databases-for-use-postgresql" class="level2">
<h2>Convert raw MS-Access (.mdb) databases for use PostgreSQL</h2>
<p>The following shell script uses the <code>mdb-tools</code> package and standard unix tools to convert complete set of tables in the Access database to tab separated value files, which are then loaded into <code>PostgreSQL</code>.</p>
<pre class="sourceCode bash" include="../sql/export-to-db.sh"><code class="sourceCode bash"><span class="co">#!/bin/bash</span>
<span class="co"># modified from: http://barbedwirebytecodebaconburger.wordpress.com/2009/08/03/migrating-an-old-ms-access-database-to-mysql/</span>
<span class="ot">DBFILE=$1</span>
<span class="ot">DBNAME=$2</span>
<span class="ot">BASENAME=</span><span class="kw">`basename</span> <span class="ot">$1</span> .mdb<span class="kw">`</span>
<span class="ot">OUTFILE=${BASENAME}</span>-schema.sql
<span class="ot">DIALECT=</span>postgres

<span class="fu">runtraced()</span> <span class="kw">{</span>
    <span class="kw">echo</span> <span class="st">&quot;</span><span class="ot">$@</span><span class="st">&quot;</span>
    <span class="st">&quot;</span><span class="ot">$@</span><span class="st">&quot;</span>
<span class="kw">}</span>
<span class="fu">tolower()</span> <span class="kw">{</span>
    <span class="kw">echo</span> <span class="st">&quot;</span><span class="ot">$@</span><span class="st">&quot;</span> <span class="kw">|</span> <span class="kw">tr</span> <span class="st">&#39;[:upper:]&#39;</span> <span class="st">&#39;[:lower:]&#39;</span>
<span class="kw">}</span>


<span class="co">#Check for correct number of arguments</span>
<span class="kw">if [</span> <span class="ot">$#</span> <span class="ot">-lt</span> 2<span class="kw"> ]</span>; <span class="kw">then</span>
<span class="kw">echo</span> <span class="st">&quot;Usage: access2mysql.sh DBFILE DBNAME [DIALECT]&quot;</span>
<span class="kw">echo</span> <span class="st">&quot;Example: access2mysql.sh msaccess.mdb mysql.sql&quot;</span>
<span class="kw">exit</span> 1
<span class="kw">fi</span>

<span class="kw">if [</span> <span class="ot">$#</span> <span class="ot">-eq</span> 3<span class="kw"> ]</span>; <span class="kw">then</span>
    <span class="ot">DIALECT=$3</span>
<span class="kw">fi</span>
<span class="kw">echo</span> <span class="st">&quot;Selected Dialect: </span><span class="ot">$DIALECT</span><span class="st">&quot;</span>

<span class="co">#Check that DBFILE really exists</span>
<span class="kw">if [</span> <span class="ot">!</span> <span class="ot">-f</span> <span class="ot">$DBFILE</span><span class="kw"> ]</span>; <span class="kw">then</span>
<span class="kw">echo</span> <span class="st">&quot;</span><span class="ot">$DBFILE</span><span class="st"> does not exist.&quot;</span>
<span class="kw">exit</span> 1
<span class="kw">fi</span>

<span class="co">#All is good, here we go!</span>

<span class="co">#Create schema</span>

<span class="kw">mdb-schema</span> --no-indexes <span class="ot">$DBFILE</span> <span class="ot">$DIALECT</span> <span class="kw">&gt;</span> <span class="ot">$OUTFILE</span>
<span class="kw">runtraced</span> dropdb -U postgres <span class="ot">${DBNAME}</span>
<span class="kw">runtraced</span> createdb -U postgres <span class="ot">${DBNAME}</span>
<span class="kw">psql</span> -U postgres <span class="ot">${DBNAME}</span> <span class="kw">&lt;</span> <span class="ot">$OUTFILE</span>

<span class="co">#Export table data</span>
<span class="ot">TABLES=</span><span class="kw">`mdb-tables</span> <span class="ot">$DBFILE</span><span class="kw">`</span>


<span class="kw">for</span> <span class="kw">TT</span> in <span class="ot">$TABLES</span><span class="kw">;</span> <span class="kw">do</span>
    <span class="ot">FTT=${BASENAME}</span>-<span class="ot">${TT}</span>

    <span class="co"># Do the export on this table, escaping end of line records so we can handle</span>
    <span class="co"># multiple line text fields</span>
    <span class="kw">mdb-export</span> -Q -d <span class="st">&#39;\t&#39;</span> -D <span class="st">&#39;%Y-%m-%d %H:%M:%S&#39;</span> -R <span class="st">&quot;XXTIANRXX&quot;</span> t.mdb <span class="st">&quot;</span><span class="ot">$TT</span><span class="st">&quot;</span> \

        <span class="co"># pipe the export through a perl filter to escape newlines in records</span>
        <span class="kw">|</span> <span class="kw">perl</span> -p -e <span class="st">&#39;s/^M\n/\\n/&#39;</span> <span class="dt">\ </span> <span class="co"># </span>

        <span class="co"># pipe again through a perl filter to escape quote characters</span>
        <span class="kw">|</span> <span class="kw">perl</span> -p -e <span class="st">&#39;s/&quot;/&quot;&quot;/g&#39;</span> <span class="kw">|</span> <span class="kw">perl</span> -p -e <span class="st">&#39;s/XXTIANRXX/\n/g&#39;</span> \

        <span class="co"># send the result into a tsv file</span>
        <span class="kw">&gt;</span> <span class="ot">${TT}</span><span class="kw">.tsv</span>

    <span class="co"># Clean up some Windows-character stuff</span>
    <span class="kw">dos2unix</span> <span class="ot">${TT}</span>.tsv

    <span class="co"># Copy the tsv file into the appropriate database table</span>
    <span class="kw">runtraced</span> psql -U postgres -c <span class="st">&quot;\copy </span><span class="dt">\&quot;</span><span class="ot">${TT}</span><span class="dt">\&quot;</span><span class="st"> from &#39;</span><span class="ot">${TT}</span><span class="st">.tsv&#39; using delimiters E&#39;\t&#39; with CSV header&quot;</span> <span class="ot">${DBNAME}</span>
<span class="kw">done</span>

<span class="co"># DOWNCASE TABLE NAMES</span>
<span class="kw">for</span> <span class="kw">TT</span> in <span class="ot">$TABLES</span><span class="kw">;</span> <span class="kw">do</span>
    <span class="ot">LTT=</span><span class="kw">`tolower</span> <span class="st">&quot;</span><span class="ot">${TT}</span><span class="st">&quot;</span><span class="kw">`</span>
    <span class="kw">runtraced</span> psql -U postgres -c <span class="st">&quot;ALTER TABLE </span><span class="dt">\&quot;</span><span class="ot">${TT}</span><span class="dt">\&quot;</span><span class="st"> RENAME TO </span><span class="dt">\&quot;</span><span class="ot">${LTT}</span><span class="dt">\&quot;</span><span class="st">&quot;</span> <span class="ot">${DBNAME}</span>
<span class="kw">done</span>


<span class="co">#dos2unix $OUTFILE</span>
<span class="kw">exit</span> 0</code></pre>
</section>
<section id="generate-static-linked-trip-table-consistent-with-2001-chts-datasets" class="level2">
<h2>Generate static linked trip table consistent with 2001 CHTS datasets</h2>
<p>The following SQL command is used to generate <code>tbllinkedtrip</code>, containing the linked trip tables for use in <code>R</code></p>
<pre class="sourceCode sql" include="../sql/clean.sql"><code class="sourceCode sql">

<span class="co">--- Here we create a view that generates linked trips and gives each a distinct,</span>
<span class="co">--- ordered, ID</span>
<span class="kw">drop</span> <span class="kw">view</span> <span class="kw">if</span> <span class="kw">exists</span> linked_trip_order <span class="kw">cascade</span>;
<span class="kw">create</span> <span class="kw">or</span> <span class="kw">replace</span> <span class="kw">view</span> linked_trip_order <span class="kw">AS</span> 
<span class="co">-- This query generates the ordered linked trips for each SAMPN, PERNO with</span>
<span class="co">-- merged aggregates based upon the unique linked trip numbering generated in</span>
<span class="co">-- the embedded subquery `q`</span>
<span class="kw">select</span> 
       <span class="co">-- Rows for this view are ordered linked trips for each SAMPN, PERNO</span>
       qq.<span class="ot">&quot;SAMPN&quot;</span>,qq.<span class="ot">&quot;PERNO&quot;</span>,qq.linked_tripno,

       <span class="co">--- We tack on some aggregated values for later use</span>
       <span class="co">--- NOTE: array_agg is a postgresql function</span>
       array_agg(qq.<span class="ot">&quot;PLANO&quot;</span>) jplano,  <span class="co">-- array of joined place numbers for this linked trip (1 or more)</span>
       array_agg(qq.<span class="ot">&quot;ACTNO&quot;</span>) jactno,  <span class="co">-- array of joined activity numbers (1 or more)</span>
       array_agg(qq.<span class="ot">&quot;APURP&quot;</span>) jpurp,   <span class="co">-- array of joined purposes (1 or more)</span>
       array_agg(qq.adjtripno) jtrip, <span class="co">-- array of adjusted trip numbers [nulls -&gt; 0] (1 or more)</span>

       array_agg(dp.<span class="ot">&quot;PERWGT&quot;</span>) perwgt,
       array_agg(dp.<span class="ot">&quot;EXPPERWGT&quot;</span>) expperwgt,
       array_agg(dp.<span class="ot">&quot;TCF&quot;</span>) tcf,
       array_agg(dp.<span class="ot">&quot;TCFPERWGT&quot;</span>) tcfperwgt,
       array_agg(dp.<span class="ot">&quot;EXPTCFPERWGT&quot;</span>) exptcfperwgt,

       <span class="fu">SUM</span>(dp.<span class="ot">&quot;TRIPDUR&quot;</span>) trpdur,         <span class="co">-- sum of durations of joined trips</span>
       <span class="fu">SUM</span>(dp.<span class="ot">&quot;ACTDUR&quot;</span>) jactdur           <span class="co">-- sum of activity durations of joined trips/activities</span>
<span class="kw">from</span> (
        <span class="kw">select</span> *, 
               <span class="co">-- this record is the point of this subquery.  We sum the linked_tripcnt of the ordered query</span>
               <span class="co">-- to generate a unique linked trip number for every activity</span>
               <span class="fu">sum</span>(linked_tripcnt) <span class="kw">OVER</span> (<span class="kw">ORDER</span> <span class="kw">BY</span> <span class="ot">&quot;SAMPN&quot;</span>,<span class="ot">&quot;PERNO&quot;</span>,<span class="ot">&quot;PLANO&quot;</span>,<span class="ot">&quot;ACTNO&quot;</span>,adjtripno) <span class="kw">AS</span> linked_tripno 
        <span class="kw">from</span> (
                <span class="co">--- this subquery generates an ordered listing of trips where</span>
                <span class="co">--- adjacent pick-up/delivery or mode switches are collapsed</span>
                <span class="co">--- into a single trip</span>
                <span class="kw">SELECT</span> da.<span class="ot">&quot;SAMPN&quot;</span>,da.<span class="ot">&quot;PERNO&quot;</span>,da.<span class="ot">&quot;PLANO&quot;</span>,da.<span class="ot">&quot;ACTNO&quot;</span>,
                       null_to_zero(<span class="ot">&quot;TRIPNO&quot;</span>) adjtripno,  <span class="co">-- convert NULL tripno to 0 for later computation</span>
                       da.<span class="ot">&quot;APURP&quot;</span>,

                       <span class="co">--- compute the linked trip counter...</span>
                       <span class="co">--- linked_tripcnt is zero if...</span>
                       <span class="kw">case</span> <span class="kw">when</span> 
                            <span class="co">-- the place number is the same</span>
                                 <span class="co">-- this makes sure we capture all distinct</span>
                                 <span class="co">-- *activities*, which means they might be</span>
                                 <span class="co">-- occuring at the same location.</span>
                                 <span class="co">-- &quot;PLANO&quot; = lag(&quot;PLANO&quot;) over (PARTITION BY &quot;SAMPN&quot;,&quot;PERNO&quot; ORDER BY null_to_zero(&quot;TRIPNO&quot;)) </span>
                                 <span class="kw">false</span>  <span class="co">-- not sure we want the above so omitting</span>

                            <span class="co">-- OR the trip number differs from the last AND the trip purpse is </span>
                            <span class="co">--    APURP=21:Mode change/Transfer; 22:Pick-up/Drop off </span>
                                 <span class="kw">OR</span> (
                                        null_to_zero(<span class="ot">&quot;TRIPNO&quot;</span>) &lt;&gt; <span class="fu">lag</span>(null_to_zero(<span class="ot">&quot;TRIPNO&quot;</span>)) 
                                              <span class="kw">OVER</span> (<span class="kw">PARTITION</span> <span class="kw">BY</span> <span class="ot">&quot;SAMPN&quot;</span>,<span class="ot">&quot;PERNO&quot;</span> <span class="kw">ORDER</span> <span class="kw">BY</span> null_to_zero(<span class="ot">&quot;TRIPNO&quot;</span>)) 
                                        <span class="kw">AND</span> <span class="fu">lag</span>(<span class="ot">&quot;APURP&quot;</span>) 
                                              <span class="kw">OVER</span> (<span class="kw">PARTITION</span> <span class="kw">BY</span> <span class="ot">&quot;SAMPN&quot;</span>,<span class="ot">&quot;PERNO&quot;</span> <span class="kw">ORDER</span> <span class="kw">BY</span> null_to_zero(<span class="ot">&quot;TRIPNO&quot;</span>)) 
                                              <span class="kw">NOT</span> <span class="kw">IN</span> (<span class="dv">21</span>,<span class="dv">22</span>)
                                    ) 
                            <span class="kw">THEN</span> <span class="dv">1</span>    <span class="co">-- increment the linked trip count</span>
                            <span class="kw">ELSE</span> <span class="dv">0</span>    <span class="co">-- DON&#39;T increment the linked trip count</span>
                            <span class="kw">END</span> <span class="kw">AS</span> linked_tripcnt

                <span class="kw">FROM</span> deliv_activity da
                <span class="kw">ORDER</span> <span class="kw">BY</span> null_to_zero(<span class="ot">&quot;TRIPNO&quot;</span>),<span class="ot">&quot;PLANO&quot;</span>,<span class="ot">&quot;ACTNO&quot;</span>
             ) q
) qq 
     <span class="kw">LEFT</span> <span class="kw">JOIN</span> deliv_place dp <span class="kw">USING</span> ( <span class="ot">&quot;SAMPN&quot;</span>,<span class="ot">&quot;PERNO&quot;</span>,<span class="ot">&quot;PLANO&quot;</span>)
     <span class="kw">GROUP</span> <span class="kw">BY</span> <span class="ot">&quot;SAMPN&quot;</span>,<span class="ot">&quot;PERNO&quot;</span>,linked_tripno <span class="kw">order</span> <span class="kw">by</span> <span class="ot">&quot;SAMPN&quot;</span>,<span class="ot">&quot;PERNO&quot;</span>,linked_tripno;


<span class="co">-- This is an intermediate view that we use to add the origin and destination</span>
<span class="co">-- place/activity pairs to the linked_trip_order view</span>
<span class="kw">DROP</span> <span class="kw">VIEW</span> <span class="kw">IF</span> <span class="kw">EXISTS</span> ltf <span class="kw">CASCADE</span>;
<span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> <span class="kw">VIEW</span> ltf <span class="kw">AS</span>
<span class="kw">SELECT</span> linked_tripno <span class="co">-- unique linked trip number (to index)</span>
       ,lto.<span class="ot">&quot;SAMPN&quot;</span>  <span class="co">-- hh number (key)</span>
       , lto.<span class="ot">&quot;PERNO&quot;</span> <span class="co">-- person number in hh (key)</span>

       <span class="co">-- Here, use window functions to get the last place/activity from the</span>
       <span class="co">-- prior record for this person.  Since we&#39;ve ordered the trips, this</span>
       <span class="co">-- will be the source place/activity for this trip</span>
       , last_elem(<span class="fu">lag</span>(jplano) <span class="kw">OVER</span> (<span class="kw">PARTITION</span> <span class="kw">BY</span> <span class="ot">&quot;SAMPN&quot;</span>,<span class="ot">&quot;PERNO&quot;</span> <span class="kw">ORDER</span> <span class="kw">BY</span> <span class="ot">&quot;SAMPN&quot;</span>,<span class="ot">&quot;PERNO&quot;</span>,linked_tripno)) source_plano    <span class="co">-- origin &quot;place&quot; of this trip</span>
       , last_elem(<span class="fu">lag</span>(jactno) <span class="kw">OVER</span> (<span class="kw">PARTITION</span> <span class="kw">BY</span> <span class="ot">&quot;SAMPN&quot;</span>,<span class="ot">&quot;PERNO&quot;</span> <span class="kw">ORDER</span> <span class="kw">BY</span> <span class="ot">&quot;SAMPN&quot;</span>,<span class="ot">&quot;PERNO&quot;</span>,linked_tripno)) <span class="kw">AS</span> source_act   <span class="co">-- activity from which this trip leaves</span>

       <span class="co">-- the dest place/activity is simply the last of the joined</span>
       <span class="co">-- place/activities in this linked trip</span>
       , last_elem(jplano) dest_plano   <span class="co">-- destination &quot;place&quot; of this trip</span>
       , last_elem(jactno) <span class="kw">as</span> dest_act  <span class="co">-- activity to which this trip arrives</span>

       <span class="co">-- pass along the place/activity arrays for convenience</span>
       , jplano
       , jactno

       <span class="co">-- pass along the trip and activity durations for this linked trip</span>
       , trpdur
       , jactdur

       <span class="co">-- pass along weights</span>
       , perwgt
       , expperwgt
       , tcf
       , tcfperwgt
       , exptcfperwgt
       
<span class="kw">FROM</span> linked_trip_order lto;

<span class="co">-- this is the final view, that adds the details for the source and destination</span>
<span class="co">-- ends of each linked trip</span>
<span class="kw">DROP</span> <span class="kw">VIEW</span> <span class="kw">IF</span> <span class="kw">EXISTS</span> theone <span class="kw">CASCADE</span>;
<span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> <span class="kw">VIEW</span> theone <span class="kw">AS</span>
<span class="kw">SELECT</span> ltf.* 
       , <span class="kw">NULL</span> dayno  <span class="co">-- legacy</span>
       , <span class="kw">NULL</span> source_locno   <span class="co">-- legacy specification of geocoded source location</span>
       , <span class="kw">NULL</span> dest_locno     <span class="co">-- legacy specification of geocoded destination location</span>
       , <span class="kw">NULL</span> dtype          <span class="co">-- ?? Destination type?</span>
       , dpdst.<span class="ot">&quot;MODE&quot;</span> tmode  <span class="co">-- primary mode of travel---*last* mode of joined travel</span>
       , <span class="kw">NULL</span> mapped_mode    <span class="co">-- primary mode mapped to reduced mode class</span>

       <span class="co">-- HW, HO, HS, WO, OO</span>
       , canonical_trip_type(canonical_place_type(dpsrc.<span class="ot">&quot;PNAME&quot;</span>,dasrc.<span class="ot">&quot;APURP&quot;</span>)
                             || canonical_place_type(dpdst.<span class="ot">&quot;PNAME&quot;</span>,dadst.<span class="ot">&quot;APURP&quot;</span>))
         <span class="kw">AS</span> triptype

       , dpsrc.<span class="ot">&quot;DEP_HR&quot;</span> dep_hr         <span class="co">-- depature hour</span>
       , dpsrc.<span class="ot">&quot;DEP_MIN&quot;</span> dep_min       <span class="co">-- depature min</span>
       , dpdst.<span class="ot">&quot;ARR_HR&quot;</span> arr_hr         <span class="co">-- arrival hour</span>
       , dpdst.<span class="ot">&quot;ARR_MIN&quot;</span> arr_min       <span class="co">-- arrival min</span>
       , dpdst.<span class="ot">&quot;ACTDUR&quot;</span> <span class="kw">AS</span> actdur      <span class="co">-- duration of activity at destination</span>
       , jactdur - dpdst.<span class="ot">&quot;ACTDUR&quot;</span> <span class="kw">AS</span> ignoredactdur  <span class="co">-- duration of transit/serve passenger type activities</span>
       , <span class="kw">null</span> vehavail       <span class="co">-- ?? whether a vehicle was available to the traveler?</span>
       , <span class="kw">null</span> vehno          <span class="co">-- ?? HH vehicle used?</span>
       , <span class="kw">null</span> party          <span class="co">-- ?? number of travelers in party?, null or 1 if 1</span>
       <span class="co">-- , null DOM_WDWGT</span>
       <span class="co">-- , null DOM_WEWGT</span>
       <span class="co">-- , null DOM_SDWGT</span>
       <span class="co">-- , null DOM_AWDWGT</span>
       <span class="co">-- , null DOM_ASDWGT</span>
       <span class="co">-- , null Orig_DOM_AWDWGT</span>
       <span class="co">-- , null Orig_DOM_WEWGT</span>
       <span class="co">-- , null PHASE </span>
       <span class="kw">from</span> ltf

       <span class="co">-- join the activity and place tables for the source and destination ends</span>
       <span class="co">-- of the trip</span>
       <span class="kw">left</span> <span class="kw">join</span> deliv_activity dasrc 
            <span class="kw">ON</span> (ltf.<span class="ot">&quot;SAMPN&quot;</span> = dasrc.<span class="ot">&quot;SAMPN&quot;</span> <span class="kw">AND</span> ltf.<span class="ot">&quot;PERNO&quot;</span> = dasrc.<span class="ot">&quot;PERNO&quot;</span> 
                <span class="kw">AND</span> ltf.source_plano = dasrc.<span class="ot">&quot;PLANO&quot;</span> <span class="kw">AND</span> ltf.source_act = dasrc.<span class="ot">&quot;ACTNO&quot;</span> )
       <span class="kw">left</span> <span class="kw">join</span> deliv_activity dadst
            <span class="kw">ON</span> (ltf.<span class="ot">&quot;SAMPN&quot;</span> = dadst.<span class="ot">&quot;SAMPN&quot;</span> <span class="kw">AND</span> ltf.<span class="ot">&quot;PERNO&quot;</span> = dadst.<span class="ot">&quot;PERNO&quot;</span> 
                <span class="kw">AND</span> ltf.dest_plano = dadst.<span class="ot">&quot;PLANO&quot;</span> <span class="kw">AND</span> ltf.dest_act = dadst.<span class="ot">&quot;ACTNO&quot;</span> )
       <span class="kw">left</span> <span class="kw">join</span> deliv_place dpsrc
            <span class="kw">ON</span> (ltf.<span class="ot">&quot;SAMPN&quot;</span> = dpsrc.<span class="ot">&quot;SAMPN&quot;</span> <span class="kw">AND</span> ltf.<span class="ot">&quot;PERNO&quot;</span> = dpsrc.<span class="ot">&quot;PERNO&quot;</span> 
                <span class="kw">AND</span> ltf.source_plano = dpsrc.<span class="ot">&quot;PLANO&quot;</span> )
       <span class="kw">left</span> <span class="kw">join</span> deliv_place dpdst
            <span class="kw">ON</span> (ltf.<span class="ot">&quot;SAMPN&quot;</span> = dpdst.<span class="ot">&quot;SAMPN&quot;</span> <span class="kw">AND</span> ltf.<span class="ot">&quot;PERNO&quot;</span> = dpdst.<span class="ot">&quot;PERNO&quot;</span> 
                <span class="kw">AND</span> ltf.dest_plano = dpdst.<span class="ot">&quot;PLANO&quot;</span> )
       <span class="kw">left</span> <span class="kw">join</span> deliv_per p
            <span class="kw">ON</span> (ltf.<span class="ot">&quot;SAMPN&quot;</span> = p.<span class="ot">&quot;SAMPN&quot;</span> <span class="kw">AND</span> ltf.<span class="ot">&quot;PERNO&quot;</span> = p.<span class="ot">&quot;PERNO&quot;</span>) 

       <span class="co">-- Omit records where the source place and destination place are</span>
       <span class="co">-- identical or it&#39;s the first place/activity for the person (those</span>
       <span class="co">-- aren&#39;t trips!)</span>
       <span class="kw">where</span> ltf.source_plano != ltf.dest_plano <span class="kw">AND</span> ltf.source_plano <span class="kw">IS</span> <span class="kw">NOT</span> <span class="kw">NULL</span> <span class="kw">AND</span> ltf.source_act <span class="kw">IS</span> <span class="kw">NOT</span> <span class="kw">NULL</span>
       <span class="kw">order</span> <span class="kw">by</span> ltf.<span class="ot">&quot;SAMPN&quot;</span>, ltf.<span class="ot">&quot;PERNO&quot;</span>, source_plano, source_act;

<span class="co">--- Finally, create the linked trip table</span>
<span class="kw">drop</span> <span class="kw">table</span> tbllinkedtrip;
<span class="kw">select</span> * <span class="kw">into</span> tbllinkedtrip <span class="kw">from</span> theone;</code></pre>
<p>Function definitions...</p>
<pre class="sourceCode sql" include="../sql/helper-functions.sql"><code class="sourceCode sql"><span class="co">--- Quick function to convert nulls to zero</span>
<span class="kw">CREATE</span> <span class="kw">FUNCTION</span> null_to_zero (<span class="dt">integer</span>) RETURNS <span class="dt">integer</span> <span class="kw">AS</span> $$
 <span class="kw">SELECT</span> <span class="kw">CASE</span> <span class="kw">WHEN</span> $<span class="dv">1</span> <span class="kw">IS</span> <span class="kw">NULL</span> <span class="kw">THEN</span> <span class="dv">0</span> <span class="kw">ELSE</span> $<span class="dv">1</span> <span class="kw">END</span>
$$ LANGUAGE SQL;

<span class="co">--- function to get last element of arbitrarily sized array</span>
<span class="co">--- from: http://stackoverflow.com/questions/2949881/getting-the-last-element-of-a-postgres-array-declaratively</span>
<span class="kw">CREATE</span> <span class="kw">FUNCTION</span> last_elem (<span class="dt">integer</span>[]) RETURNS <span class="dt">integer</span> <span class="kw">AS</span> $$
 <span class="kw">SELECT</span> $<span class="dv">1</span>[array_upper($<span class="dv">1</span>,<span class="dv">1</span>)];
$$ LANGUAGE SQL;

<span class="co">--- function to get first element of array</span>
<span class="kw">CREATE</span> <span class="kw">FUNCTION</span> first_elem (<span class="dt">integer</span>[]) RETURNS <span class="dt">integer</span> <span class="kw">AS</span> $$
 <span class="kw">SELECT</span> $<span class="dv">1</span>[<span class="dv">1</span>];
$$ LANGUAGE SQL;

<span class="co">--- convert 3am-&gt;3am hours to 3:00-&gt;27:00 for sorting purposes</span>
<span class="kw">CREATE</span> <span class="kw">FUNCTION</span> thr (<span class="dt">integer</span>) RETURNS <span class="dt">integer</span> <span class="kw">AS</span> $$
 <span class="kw">SELECT</span> <span class="kw">CASE</span> <span class="kw">WHEN</span> $<span class="dv">1</span> &lt; <span class="dv">3</span> <span class="kw">THEN</span> $<span class="dv">1+24</span> <span class="kw">ELSE</span> $<span class="dv">1</span> <span class="kw">END</span>
$$ LANGUAGE SQL;

<span class="co">-- time difference in minutes</span>
<span class="kw">CREATE</span> <span class="kw">FUNCTION</span> tdiff (<span class="dt">integer</span>,<span class="dt">integer</span>,<span class="dt">integer</span>,<span class="dt">integer</span>) RETURNS <span class="dt">integer</span> <span class="kw">AS</span> $$
 <span class="kw">SELECT</span> <span class="dv">60</span>*thr($<span class="dv">3</span>)+$<span class="dv">4</span> - (<span class="dv">60</span>*thr($<span class="dv">1</span>)+$<span class="dv">2</span>)
$$ LANGUAGE SQL;


<span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> <span class="kw">FUNCTION</span> array_avg(<span class="dt">double</span> <span class="dt">precision</span>[])
RETURNS <span class="dt">double</span> <span class="dt">precision</span> <span class="kw">AS</span> $$
<span class="kw">SELECT</span> <span class="fu">avg</span>(v) <span class="kw">FROM</span> unnest($<span class="dv">1</span>) g(v)
$$ LANGUAGE sql;

<span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> <span class="kw">FUNCTION</span> array_max(<span class="dt">double</span> <span class="dt">precision</span>[])
RETURNS <span class="dt">double</span> <span class="dt">precision</span> <span class="kw">AS</span> $$
<span class="kw">SELECT</span> <span class="fu">max</span>(v) <span class="kw">FROM</span> unnest($<span class="dv">1</span>) g(v)
$$ LANGUAGE sql;

<span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> <span class="kw">FUNCTION</span> array_min(<span class="dt">double</span> <span class="dt">precision</span>[])
RETURNS <span class="dt">double</span> <span class="dt">precision</span> <span class="kw">AS</span> $$
<span class="kw">SELECT</span> <span class="fu">min</span>(v) <span class="kw">FROM</span> unnest($<span class="dv">1</span>) g(v)
$$ LANGUAGE sql;</code></pre>
</section>
</section>
<section id="importing-data-from-postgresql-to-r" class="level1">
<h1>Importing data from PostgreSQL to R</h1>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Load one of the many Postgresql interface library</span>
<span class="kw">library</span>(RPostgreSQL)

<span class="co"># create an PostgreSQL instance and create one connection.</span>
drv &lt;-<span class="st"> </span><span class="kw">dbDriver</span>(<span class="st">&quot;PostgreSQL&quot;</span>)
con &lt;-<span class="st"> </span><span class="kw">dbConnect</span>(drv, <span class="dt">dbname =</span> <span class="st">&quot;chts-2010&quot;</span>, <span class="dt">user =</span> <span class="st">&quot;postgres&quot;</span>)

<span class="co"># query the linked trip table and put into a data frame</span>
rs &lt;-<span class="st"> </span><span class="kw">dbSendQuery</span>(con, <span class="kw">paste</span>(<span class="st">&quot;select tmode as </span><span class="ch">\&quot;</span><span class="st">MODE</span><span class="ch">\&quot;</span><span class="st">, &quot;</span>, <span class="st">&quot;triptype,</span><span class="ch">\&quot;</span><span class="st">DOW</span><span class="ch">\&quot;</span><span class="st">,&quot;</span>, 
    <span class="st">&quot;array_avg(exptcfperwgt) as weight, perwgt[1], tcf, &quot;</span>, <span class="st">&quot;tcfperwgt[1] tcfperwgt, hh.</span><span class="ch">\&quot;</span><span class="st">AREA</span><span class="ch">\&quot;</span><span class="st"> &quot;</span>, 
    <span class="st">&quot;from tbllinkedtrip&quot;</span>, <span class="st">&quot; left join deliv_hh hh using (</span><span class="ch">\&quot;</span><span class="st">SAMPN</span><span class="ch">\&quot;</span><span class="st">)&quot;</span>))
df &lt;-<span class="st"> </span><span class="kw">fetch</span>(rs, <span class="dt">n =</span> -<span class="dv">1</span>)

<span class="co"># assign factor labels</span>
df$triptype &lt;-<span class="st"> </span><span class="kw">factor</span>(df$triptype, <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;HW&quot;</span>, <span class="st">&quot;HO&quot;</span>, <span class="st">&quot;HS&quot;</span>, <span class="st">&quot;WO&quot;</span>, <span class="st">&quot;OO&quot;</span>), 
    <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;Home-Work&quot;</span>, <span class="st">&quot;Home-Other&quot;</span>, <span class="st">&quot;Home-Shop&quot;</span>, <span class="st">&quot;Work-Other&quot;</span>, <span class="st">&quot;Other-Other&quot;</span>))

df$DOW &lt;-<span class="st"> </span><span class="kw">factor</span>(df$DOW, <span class="dt">levels =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>), <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;Mo&quot;</span>, <span class="st">&quot;Tu&quot;</span>, 
    <span class="st">&quot;We&quot;</span>, <span class="st">&quot;Th&quot;</span>, <span class="st">&quot;Fr&quot;</span>, <span class="st">&quot;Sa&quot;</span>, <span class="st">&quot;Su&quot;</span>))

df$MODE &lt;-<span class="st"> </span><span class="kw">factor</span>(df$MODE, <span class="dt">levels =</span> <span class="kw">seq</span>(<span class="dv">1</span>, <span class="dv">29</span>), <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;Walk&quot;</span>, <span class="st">&quot;Bike&quot;</span>, <span class="st">&quot;Wheelchair / Mobility Scooter&quot;</span>, 
    <span class="st">&quot;Other Non-Motorized&quot;</span>, <span class="st">&quot;Auto / Van / Truck Driver&quot;</span>, <span class="st">&quot;Auto / Van / Truck Passenger&quot;</span>, 
    <span class="st">&quot;Carpool / Vanpool&quot;</span>, <span class="st">&quot;Motorcycle / Scooter / Moped&quot;</span>, <span class="st">&quot;Taxi / Hired Car / Limo&quot;</span>, 
    <span class="st">&quot;Rental Car/Vehicle&quot;</span>, <span class="st">&quot;Private shuttle (SuperShuttle, employer, hotel, etc.)&quot;</span>, 
    <span class="st">&quot;Greyhound Bus&quot;</span>, <span class="st">&quot;Plane&quot;</span>, <span class="st">&quot;Other Private Transit&quot;</span>, <span class="st">&quot;Local Bus, Rapid Bus&quot;</span>, 
    <span class="st">&quot;Express Bus / Commuter Bus (AC Transbay, Golden Gate Transit, etc)&quot;</span>, <span class="st">&quot;Premium Bus ( Metro Orange / Silver Line )&quot;</span>, 
    <span class="st">&quot;School Bus&quot;</span>, <span class="st">&quot;Public Transit Shuttle (DASH, Emery Go Round, etc.)&quot;</span>, <span class="st">&quot;AirBART / LAX FlyAway&quot;</span>, 
    <span class="st">&quot;Dial-a-Ride / Paratransit (Access Services, etc.)&quot;</span>, <span class="st">&quot;Amtrak Bus&quot;</span>, <span class="st">&quot;Other Bus&quot;</span>, 
    <span class="st">&quot;BART, Metro Red / Purple Line&quot;</span>, <span class="st">&quot;ACE, Amtrak, Caltrain, Coaster, Metrolink&quot;</span>, 
    <span class="st">&quot;Metro Blue / Green / Gold Line, Muni Metro, Sacramento Light Rail, San Diego Sprinter / Trolley / Orange/Blue/Green, VTA Light Rail&quot;</span>, 
    <span class="st">&quot;Street Car / Cable Car&quot;</span>, <span class="st">&quot;Other Rail&quot;</span>, <span class="st">&quot;Ferry / Boat&quot;</span>))

df$AREA &lt;-<span class="st"> </span><span class="kw">factor</span>(df$AREA, <span class="dt">levels =</span> <span class="kw">seq</span>(<span class="dv">1</span>, <span class="dv">39</span>), <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;Alpine&quot;</span>, <span class="st">&quot;Amador&quot;</span>, 
    <span class="st">&quot;AMBAG&quot;</span>, <span class="st">&quot;Butte&quot;</span>, <span class="st">&quot;Calaveras&quot;</span>, <span class="st">&quot;Colusa&quot;</span>, <span class="st">&quot;Del Norte&quot;</span>, <span class="st">&quot;Fresno&quot;</span>, <span class="st">&quot;Glenn&quot;</span>, 
    <span class="st">&quot;Humboldt&quot;</span>, <span class="st">&quot;Inyo&quot;</span>, <span class="st">&quot;Kern&quot;</span>, <span class="st">&quot;Kings&quot;</span>, <span class="st">&quot;Lake&quot;</span>, <span class="st">&quot;Lassen&quot;</span>, <span class="st">&quot;Madera&quot;</span>, <span class="st">&quot;Mariposa&quot;</span>, 
    <span class="st">&quot;Mendocino&quot;</span>, <span class="st">&quot;Merced&quot;</span>, <span class="st">&quot;Modoc&quot;</span>, <span class="st">&quot;Mono&quot;</span>, <span class="st">&quot;MTC&quot;</span>, <span class="st">&quot;Nevada&quot;</span>, <span class="st">&quot;Plumas&quot;</span>, <span class="st">&quot;SACOG&quot;</span>, 
    <span class="st">&quot;San Joaquin&quot;</span>, <span class="st">&quot;San Luis Obispo&quot;</span>, <span class="st">&quot;SANDAG&quot;</span>, <span class="st">&quot;Santa Barbara&quot;</span>, <span class="st">&quot;SCAG&quot;</span>, <span class="st">&quot;Shasta&quot;</span>, 
    <span class="st">&quot;Sierra&quot;</span>, <span class="st">&quot;Siskiyou&quot;</span>, <span class="st">&quot;Stanislaus&quot;</span>, <span class="st">&quot;Tehama&quot;</span>, <span class="st">&quot;TMPO&quot;</span>, <span class="st">&quot;Trinity&quot;</span>, <span class="st">&quot;Tulare&quot;</span>, 
    <span class="st">&quot;Tuolumne&quot;</span>))</code></pre>
</section>
<section id="trips-by-type" class="level1">
<h1>Trips by Type</h1>
<section id="a-note-on-trip-types" class="level2">
<h2>A note on trip types</h2>
<p>For the purposes of this analysis, each linked trip origin and destination was classified using the following <code>SQL</code> functions. There is room for discussion here regarding these definitions. Arrow down to see trip type distributions.</p>
<pre class="sourceCode sql" include="../sql/trip-type-functions.sql"><code class="sourceCode sql"><span class="co">-- Function to determine the &quot;TYPE&quot; of a &quot;place&quot; based upon </span>
<span class="co">--   $1: the place name</span>
<span class="co">--   $2: the activity type performed at that place</span>
<span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> <span class="kw">FUNCTION</span> canonical_place_type (<span class="dt">VARCHAR</span>(<span class="dv">510</span>),<span class="dt">INTEGER</span>) 
RETURNS <span class="dt">character</span>(<span class="dv">1</span>) <span class="kw">AS</span> $$
       <span class="kw">SELECT</span> (<span class="kw">CASE</span> <span class="kw">WHEN</span> $<span class="dv">1</span> = <span class="st">&#39;HOME&#39;</span> <span class="kw">THEN</span> <span class="st">&#39;H&#39;</span>
                    <span class="kw">WHEN</span> $<span class="dv">1</span> = <span class="st">&#39;WORK&#39;</span> <span class="kw">OR</span> $<span class="dv">2</span> <span class="kw">IN</span> (<span class="dv">9</span>
                                              <span class="co">--,11,12,16,25</span>
                                              ) <span class="kw">THEN</span> <span class="st">&#39;W&#39;</span>
                    <span class="co">-- NOTE:</span>
                    <span class="co">-- 9=WORK/JOB DUTIES</span>
                    <span class="co">-- 11=MEALS AT WORK </span>
                    <span class="co">-- 12=WORK-SPONSORED SOCIAL ACTIVITIES</span>
                    <span class="co">-- 16=ALL OTHER WORK-RELATED ACTIVITIES AT MY WORK </span>
                    <span class="co">-- 25=WORK-RELATED (MEETING, SALES CALL, DELIVERY)</span>
                    <span class="kw">WHEN</span> $<span class="dv">2</span> <span class="kw">IN</span> (<span class="dv">26</span>,<span class="dv">27</span>,<span class="dv">28</span>,<span class="dv">29</span>) <span class="kw">THEN</span> <span class="st">&#39;S&#39;</span>
                    <span class="co">-- 26=SERVICE PRIVATE VEHICLE (GAS, OIL, LUBE, REPAIRS)</span>
                    <span class="co">-- 27=ROUTINE SHOPPING (GROCERIES, CLOTHING...)</span>
                    <span class="co">-- 28=SHOPPING FOR MAJOR PURCHASES OR SPECIALTY ITEMS...</span>
                    <span class="co">-- 29=HOUSEHOLD ERRANDS (BANK, DRY CLEANING, ETC.)</span>
                    <span class="kw">ELSE</span> <span class="st">&#39;O&#39;</span>
                    <span class="kw">END</span>)
$$ LANGUAGE SQL;

<span class="co">-- Convert directional trip types to canonical trip types</span>
<span class="co">--   $1: A two character string representing the &quot;place&quot; &quot;types&quot; of a trip&#39;s</span>
<span class="co">--       origin and destination</span>
<span class="co">--</span>
<span class="co">-- We follow standard conventions here:</span>
<span class="co">--</span>
<span class="co">--   * Any trips with an origin or destination at home is a home-based trip so</span>
<span class="co">--     WH-&gt;HW, SH-&gt;HS, OH-&gt;HO.  Similarly, any trip with and origin or</span>
<span class="co">--     destination at work but *without* an end at home is a work based trip so</span>
<span class="co">--     OW-&gt;WO, SW-&gt;WS.  Everything else is an OO trip.</span>
<span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> <span class="kw">FUNCTION</span> canonical_trip_type (<span class="dt">CHARACTER</span>(<span class="dv">2</span>)) 
RETURNS <span class="dt">character</span>(<span class="dv">2</span>) <span class="kw">AS</span> $$
 <span class="kw">SELECT</span> (<span class="kw">CASE</span> <span class="kw">WHEN</span> $<span class="dv">1</span> = <span class="st">&#39;WH&#39;</span> <span class="kw">THEN</span> <span class="st">&#39;HW&#39;</span>
            <span class="kw">WHEN</span> $<span class="dv">1</span> = <span class="st">&#39;OH&#39;</span> <span class="kw">THEN</span> <span class="st">&#39;HO&#39;</span>
            <span class="kw">WHEN</span> $<span class="dv">1</span> = <span class="st">&#39;SH&#39;</span> <span class="kw">THEN</span> <span class="st">&#39;HS&#39;</span>
            <span class="kw">WHEN</span> $<span class="dv">1</span> = <span class="st">&#39;OW&#39;</span> <span class="kw">THEN</span> <span class="st">&#39;WO&#39;</span>
            <span class="kw">WHEN</span> $<span class="dv">1</span> = <span class="st">&#39;SS&#39;</span> <span class="kw">THEN</span> <span class="st">&#39;OO&#39;</span>
            <span class="kw">WHEN</span> $<span class="dv">1</span> = <span class="st">&#39;OS&#39;</span> <span class="kw">THEN</span> <span class="st">&#39;OO&#39;</span>
            <span class="kw">WHEN</span> $<span class="dv">1</span> = <span class="st">&#39;SO&#39;</span> <span class="kw">THEN</span> <span class="st">&#39;OO&#39;</span>
            <span class="kw">WHEN</span> $<span class="dv">1</span> = <span class="st">&#39;WS&#39;</span> <span class="kw">THEN</span> <span class="st">&#39;OO&#39;</span>
            <span class="kw">WHEN</span> $<span class="dv">1</span> = <span class="st">&#39;SW&#39;</span> <span class="kw">THEN</span> <span class="st">&#39;OO&#39;</span>
            <span class="co">-- treat HH trips as HO, we see these in linked trips when someone</span>
            <span class="co">-- drops people off and returns home</span>
            <span class="kw">WHEN</span> $<span class="dv">1</span> = <span class="st">&#39;HH&#39;</span> <span class="kw">THEN</span> <span class="st">&#39;HO&#39;</span>
            <span class="co">-- treat WW trips as WO, we see these in linked trips when someone</span>
            <span class="co">-- drops people off and returns to work, and when someone travels to</span>
            <span class="co">-- perform work-related business from their workplace</span>
            <span class="kw">WHEN</span> $<span class="dv">1</span> = <span class="st">&#39;WW&#39;</span> <span class="kw">THEN</span> <span class="st">&#39;WO&#39;</span>
            <span class="kw">ELSE</span> $<span class="dv">1</span>
            <span class="kw">END</span>);
$$ LANGUAGE SQL;
</code></pre>
</section>
<section id="unweighted-weekday-trips-by-type" class="level2">
<h2><strong>Unweighted</strong> weekday trips by type</h2>
<figure>
<img src="figure/unweighted-wd-trips-sub.png" />
</figure>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Load Hmisc for %nin% operator</span>
<span class="kw">library</span>(Hmisc)


weekend &lt;-<span class="st"> </span>df$DOW %in%<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Sa&quot;</span>, <span class="st">&quot;Su&quot;</span>)
weekday &lt;-<span class="st"> </span>df$DOW %nin%<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Sa&quot;</span>, <span class="st">&quot;Su&quot;</span>)

<span class="co"># Per CHTS 2001: * Person trips include all trips except walk, bicycle,</span>
<span class="co"># airplane-commercial, Airplane private, and &#39;other&#39; mode trips.  * Driver</span>
<span class="co"># trips include automobile, pickup truck, RV, Sport Utility Vehicle, van,</span>
<span class="co"># truck, and motorcycle/Moped driver trips</span>
persontrip &lt;-<span class="st"> </span>df$MODE %nin%<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Walk&quot;</span>, <span class="st">&quot;Bike&quot;</span>, <span class="st">&quot;Wheelchair / Mobility Scooter&quot;</span>, 
    <span class="st">&quot;Other Non-Motorized&quot;</span>, <span class="st">&quot;Other Private Transit&quot;</span>, <span class="st">&quot;Other Bus&quot;</span>, <span class="st">&quot;Other Rail&quot;</span>)
drivertrip &lt;-<span class="st"> </span>df$MODE %in%<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Auto / Van / Truck Driver&quot;</span>, <span class="st">&quot;Motorcycle / Scooter / Moped&quot;</span>)


<span class="co"># side by side plots</span>
<span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="dt">mar =</span> <span class="kw">c</span>(<span class="fl">1.5</span>, <span class="fl">1.5</span>, <span class="dv">2</span>, <span class="fl">1.5</span>))

<span class="co"># Trip type counts</span>
xt &lt;-<span class="st"> </span><span class="kw">xtabs</span>(~triptype, <span class="dt">data =</span> df[weekday &amp;<span class="st"> </span>persontrip, ])
<span class="kw">pie</span>(xt/<span class="kw">sum</span>(xt), <span class="dt">main =</span> <span class="kw">paste</span>(<span class="st">&quot;Weekday Person Trips&quot;</span>, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>, <span class="kw">paste</span>(<span class="st">&quot;(&quot;</span>, <span class="kw">prettyNum</span>(<span class="kw">sum</span>(xt), 
    <span class="dt">big.mark =</span> <span class="st">&quot;,&quot;</span>, <span class="dt">scientific =</span> F), <span class="st">&quot; total unweighted trips&quot;</span>, <span class="st">&quot;)&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>), 
    <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>), <span class="dt">labels =</span> <span class="kw">paste</span>(<span class="kw">names</span>(xt), <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>, <span class="kw">sprintf</span>(<span class="st">&quot;%1.2f%%&quot;</span>, xt/<span class="kw">sum</span>(xt) *<span class="st"> </span>
<span class="st">    </span><span class="dv">100</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>)))

xt &lt;-<span class="st"> </span><span class="kw">xtabs</span>(~triptype, <span class="dt">data =</span> df[weekday &amp;<span class="st"> </span>drivertrip, ])
<span class="kw">pie</span>(xt/<span class="kw">sum</span>(xt), <span class="dt">main =</span> <span class="kw">paste</span>(<span class="st">&quot;Weekday Driver Trips&quot;</span>, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>, <span class="kw">paste</span>(<span class="st">&quot;(&quot;</span>, <span class="kw">prettyNum</span>(<span class="kw">sum</span>(xt), 
    <span class="dt">big.mark =</span> <span class="st">&quot;,&quot;</span>, <span class="dt">scientific =</span> F), <span class="st">&quot; total unweighted trips&quot;</span>, <span class="st">&quot;)&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>), 
    <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>), <span class="dt">labels =</span> <span class="kw">paste</span>(<span class="kw">names</span>(xt), <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>, <span class="kw">sprintf</span>(<span class="st">&quot;%1.2f%%&quot;</span>, xt/<span class="kw">sum</span>(xt) *<span class="st"> </span>
<span class="st">    </span><span class="dv">100</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>)))</code></pre>
</section>
<section id="weighted-weekday-trips-by-type" class="level2">
<h2>Weighted weekday trips by type</h2>
<figure>
<img src="figure/weighted-wd-trips-sub.png" />
</figure>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Load Hmisc for %nin% operator</span>
<span class="kw">library</span>(Hmisc)

weekend &lt;-<span class="st"> </span>df$DOW %in%<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Sa&quot;</span>, <span class="st">&quot;Su&quot;</span>)
weekday &lt;-<span class="st"> </span>df$DOW %nin%<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Sa&quot;</span>, <span class="st">&quot;Su&quot;</span>)

<span class="co"># Per CHTS 2001: * Person trips include all trips except walk, bicycle,</span>
<span class="co"># airplane-commercial, Airplane private, and &#39;other&#39; mode trips.  * Driver</span>
<span class="co"># trips include automobile, pickup truck, RV, Sport Utility Vehicle, van,</span>
<span class="co"># truck, and motorcycle/Moped driver trips</span>
persontrip &lt;-<span class="st"> </span>df$MODE %nin%<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Walk&quot;</span>, <span class="st">&quot;Bike&quot;</span>, <span class="st">&quot;Wheelchair / Mobility Scooter&quot;</span>, 
    <span class="st">&quot;Other Non-Motorized&quot;</span>, <span class="st">&quot;Other Private Transit&quot;</span>, <span class="st">&quot;Other Bus&quot;</span>, <span class="st">&quot;Other Rail&quot;</span>)

drivertrip &lt;-<span class="st"> </span>df$MODE %in%<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Auto / Van / Truck Driver&quot;</span>, <span class="st">&quot;Motorcycle / Scooter / Moped&quot;</span>)

<span class="co"># side by side plots</span>
<span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="dt">mar =</span> <span class="kw">c</span>(<span class="fl">1.5</span>, <span class="fl">1.5</span>, <span class="dv">2</span>, <span class="fl">1.5</span>))

<span class="co"># create cross tabulation of summed weights grouped by triptype ...and</span>
<span class="co"># filtered for non weekend days</span>
xt &lt;-<span class="st"> </span><span class="kw">xtabs</span>(weight ~<span class="st"> </span>triptype, <span class="dt">data =</span> df[weekday &amp;<span class="st"> </span>persontrip, ])
<span class="kw">pie</span>(xt/<span class="kw">sum</span>(xt), <span class="dt">main =</span> <span class="kw">paste</span>(<span class="st">&quot;Person Trips&quot;</span>, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>, <span class="kw">paste</span>(<span class="st">&quot;(&quot;</span>, <span class="kw">prettyNum</span>(<span class="kw">sum</span>(xt), 
    <span class="dt">big.mark =</span> <span class="st">&quot;,&quot;</span>, <span class="dt">scientific =</span> F), <span class="st">&quot; total weighted trips&quot;</span>, <span class="st">&quot;)&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>), 
    <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>), <span class="dt">labels =</span> <span class="kw">paste</span>(<span class="kw">names</span>(xt), <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>, <span class="kw">sprintf</span>(<span class="st">&quot;%1.2f%%&quot;</span>, xt/<span class="kw">sum</span>(xt) *<span class="st"> </span>
<span class="st">    </span><span class="dv">100</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>)))

xt &lt;-<span class="st"> </span><span class="kw">xtabs</span>(weight ~<span class="st"> </span>triptype, <span class="dt">data =</span> df[weekday &amp;<span class="st"> </span>drivertrip, ])
<span class="kw">pie</span>(xt/<span class="kw">sum</span>(xt), <span class="dt">main =</span> <span class="kw">paste</span>(<span class="st">&quot;Driver Trips&quot;</span>, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>, <span class="kw">paste</span>(<span class="st">&quot;(&quot;</span>, <span class="kw">prettyNum</span>(<span class="kw">sum</span>(xt), 
    <span class="dt">big.mark =</span> <span class="st">&quot;,&quot;</span>, <span class="dt">scientific =</span> F), <span class="st">&quot; total weighted trips&quot;</span>, <span class="st">&quot;)&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>), 
    <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>), <span class="dt">labels =</span> <span class="kw">paste</span>(<span class="kw">names</span>(xt), <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>, <span class="kw">sprintf</span>(<span class="st">&quot;%1.2f%%&quot;</span>, xt/<span class="kw">sum</span>(xt) *<span class="st"> </span>
<span class="st">    </span><span class="dv">100</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>)))</code></pre>
</section>
<section id="weighted-weekend-person-trips-by-type" class="level2">
<h2>Weighted weekend person trips by type</h2>
<figure>
<img src="figure/weighted-we-trips-sub.png" />
</figure>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Load Hmisc for %nin% operator</span>
<span class="kw">library</span>(Hmisc)

weekend &lt;-<span class="st"> </span>df$DOW %in%<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Sa&quot;</span>, <span class="st">&quot;Su&quot;</span>)
weekday &lt;-<span class="st"> </span>df$DOW %nin%<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Sa&quot;</span>, <span class="st">&quot;Su&quot;</span>)

<span class="co"># Per CHTS 2001: * Person trips include all trips except walk, bicycle,</span>
<span class="co"># airplane-commercial, Airplane private, and &#39;other&#39; mode trips.  * Driver</span>
<span class="co"># trips include automobile, pickup truck, RV, Sport Utility Vehicle, van,</span>
<span class="co"># truck, and motorcycle/Moped driver trips</span>
persontrip &lt;-<span class="st"> </span>df$MODE %nin%<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Walk&quot;</span>, <span class="st">&quot;Bike&quot;</span>, <span class="st">&quot;Wheelchair / Mobility Scooter&quot;</span>, 
    <span class="st">&quot;Other Non-Motorized&quot;</span>, <span class="st">&quot;Other Private Transit&quot;</span>, <span class="st">&quot;Other Bus&quot;</span>, <span class="st">&quot;Other Rail&quot;</span>)

drivertrip &lt;-<span class="st"> </span>df$MODE %in%<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Auto / Van / Truck Driver&quot;</span>, <span class="st">&quot;Motorcycle / Scooter / Moped&quot;</span>)

<span class="co"># side by side plots</span>
<span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="dt">mar =</span> <span class="kw">c</span>(<span class="fl">1.5</span>, <span class="fl">1.5</span>, <span class="dv">2</span>, <span class="fl">1.5</span>))

<span class="co"># create cross tabulation of summed weights grouped by triptype ...and</span>
<span class="co"># filtered for non weekend days</span>
xt &lt;-<span class="st"> </span><span class="kw">xtabs</span>(weight ~<span class="st"> </span>triptype, <span class="dt">data =</span> df[weekday &amp;<span class="st"> </span>persontrip, ])
<span class="kw">pie</span>(xt/<span class="kw">sum</span>(xt), <span class="dt">main =</span> <span class="kw">paste</span>(<span class="st">&quot;Person Trips&quot;</span>, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>, <span class="kw">paste</span>(<span class="st">&quot;(&quot;</span>, <span class="kw">prettyNum</span>(<span class="kw">sum</span>(xt), 
    <span class="dt">big.mark =</span> <span class="st">&quot;,&quot;</span>, <span class="dt">scientific =</span> F), <span class="st">&quot; total weighted trips&quot;</span>, <span class="st">&quot;)&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>), 
    <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>), <span class="dt">labels =</span> <span class="kw">paste</span>(<span class="kw">names</span>(xt), <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>, <span class="kw">sprintf</span>(<span class="st">&quot;%1.2f%%&quot;</span>, xt/<span class="kw">sum</span>(xt) *<span class="st"> </span>
<span class="st">    </span><span class="dv">100</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>)))

xt &lt;-<span class="st"> </span><span class="kw">xtabs</span>(weight ~<span class="st"> </span>triptype, <span class="dt">data =</span> df[weekday &amp;<span class="st"> </span>drivertrip, ])
<span class="kw">pie</span>(xt/<span class="kw">sum</span>(xt), <span class="dt">main =</span> <span class="kw">paste</span>(<span class="st">&quot;Driver Trips&quot;</span>, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>, <span class="kw">paste</span>(<span class="st">&quot;(&quot;</span>, <span class="kw">prettyNum</span>(<span class="kw">sum</span>(xt), 
    <span class="dt">big.mark =</span> <span class="st">&quot;,&quot;</span>, <span class="dt">scientific =</span> F), <span class="st">&quot; total weighted trips&quot;</span>, <span class="st">&quot;)&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>), 
    <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>), <span class="dt">labels =</span> <span class="kw">paste</span>(<span class="kw">names</span>(xt), <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>, <span class="kw">sprintf</span>(<span class="st">&quot;%1.2f%%&quot;</span>, xt/<span class="kw">sum</span>(xt) *<span class="st"> </span>
<span class="st">    </span><span class="dv">100</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>)))</code></pre>
</section>
</section>
<section id="weighted-weekday-trips-by-region" class="level1">
<h1>Weighted weekday trips by region</h1>
<section id="all-areas" class="level2">
<h2>All Areas</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">10343671</td>
<td style="text-align: right;">13.351</td>
<td style="text-align: right;">9561041</td>
<td style="text-align: right;">14.724</td>
<td style="text-align: right;">8727700</td>
<td style="text-align: right;">20.679</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">32459318</td>
<td style="text-align: right;">41.897</td>
<td style="text-align: right;">25947302</td>
<td style="text-align: right;">39.959</td>
<td style="text-align: right;">13491041</td>
<td style="text-align: right;">31.965</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">10073713</td>
<td style="text-align: right;">13.003</td>
<td style="text-align: right;">8750149</td>
<td style="text-align: right;">13.475</td>
<td style="text-align: right;">6179157</td>
<td style="text-align: right;">14.641</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">4435812</td>
<td style="text-align: right;">5.726</td>
<td style="text-align: right;">3743599</td>
<td style="text-align: right;">5.765</td>
<td style="text-align: right;">3284343</td>
<td style="text-align: right;">7.782</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">20161622</td>
<td style="text-align: right;">26.024</td>
<td style="text-align: right;">16932523</td>
<td style="text-align: right;">26.076</td>
<td style="text-align: right;">10522884</td>
<td style="text-align: right;">24.933</td>
</tr>
</tbody>
</table>
</section>
<section id="alpine" class="level2">
<h2>Alpine</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">243.73</td>
<td style="text-align: right;">24.826</td>
<td style="text-align: right;">177.25</td>
<td style="text-align: right;">29.108</td>
<td style="text-align: right;">177.25</td>
<td style="text-align: right;">40.688</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">296.88</td>
<td style="text-align: right;">30.239</td>
<td style="text-align: right;">268.16</td>
<td style="text-align: right;">44.036</td>
<td style="text-align: right;">104.84</td>
<td style="text-align: right;">24.066</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">214.44</td>
<td style="text-align: right;">21.842</td>
<td style="text-align: right;">83.18</td>
<td style="text-align: right;">13.660</td>
<td style="text-align: right;">73.19</td>
<td style="text-align: right;">16.800</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">36.06</td>
<td style="text-align: right;">3.672</td>
<td style="text-align: right;">36.06</td>
<td style="text-align: right;">5.921</td>
<td style="text-align: right;">36.06</td>
<td style="text-align: right;">8.276</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">190.67</td>
<td style="text-align: right;">19.421</td>
<td style="text-align: right;">44.31</td>
<td style="text-align: right;">7.276</td>
<td style="text-align: right;">44.31</td>
<td style="text-align: right;">10.171</td>
</tr>
</tbody>
</table>
</section>
<section id="amador" class="level2">
<h2>Amador</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">8802</td>
<td style="text-align: right;">12.576</td>
<td style="text-align: right;">8571</td>
<td style="text-align: right;">13.649</td>
<td style="text-align: right;">7311</td>
<td style="text-align: right;">15.821</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">24741</td>
<td style="text-align: right;">35.349</td>
<td style="text-align: right;">19754</td>
<td style="text-align: right;">31.460</td>
<td style="text-align: right;">12899</td>
<td style="text-align: right;">27.914</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">10644</td>
<td style="text-align: right;">15.209</td>
<td style="text-align: right;">10159</td>
<td style="text-align: right;">16.179</td>
<td style="text-align: right;">7549</td>
<td style="text-align: right;">16.336</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">3862</td>
<td style="text-align: right;">5.519</td>
<td style="text-align: right;">3862</td>
<td style="text-align: right;">6.151</td>
<td style="text-align: right;">3533</td>
<td style="text-align: right;">7.645</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">21940</td>
<td style="text-align: right;">31.348</td>
<td style="text-align: right;">20446</td>
<td style="text-align: right;">32.561</td>
<td style="text-align: right;">14918</td>
<td style="text-align: right;">32.283</td>
</tr>
</tbody>
</table>
</section>
<section id="ambag" class="level2">
<h2>AMBAG</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">239486</td>
<td style="text-align: right;">14.865</td>
<td style="text-align: right;">222731</td>
<td style="text-align: right;">17.160</td>
<td style="text-align: right;">192591</td>
<td style="text-align: right;">22.424</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">670868</td>
<td style="text-align: right;">41.641</td>
<td style="text-align: right;">494851</td>
<td style="text-align: right;">38.124</td>
<td style="text-align: right;">270081</td>
<td style="text-align: right;">31.446</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">203669</td>
<td style="text-align: right;">12.642</td>
<td style="text-align: right;">178766</td>
<td style="text-align: right;">13.772</td>
<td style="text-align: right;">130553</td>
<td style="text-align: right;">15.201</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">75851</td>
<td style="text-align: right;">4.708</td>
<td style="text-align: right;">66621</td>
<td style="text-align: right;">5.133</td>
<td style="text-align: right;">60320</td>
<td style="text-align: right;">7.023</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">421210</td>
<td style="text-align: right;">26.145</td>
<td style="text-align: right;">335034</td>
<td style="text-align: right;">25.812</td>
<td style="text-align: right;">205328</td>
<td style="text-align: right;">23.907</td>
</tr>
</tbody>
</table>
</section>
<section id="butte" class="level2">
<h2>Butte</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">47501</td>
<td style="text-align: right;">11.23</td>
<td style="text-align: right;">44531</td>
<td style="text-align: right;">11.898</td>
<td style="text-align: right;">41319</td>
<td style="text-align: right;">16.938</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">166732</td>
<td style="text-align: right;">39.40</td>
<td style="text-align: right;">144068</td>
<td style="text-align: right;">38.494</td>
<td style="text-align: right;">74838</td>
<td style="text-align: right;">30.679</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">68499</td>
<td style="text-align: right;">16.19</td>
<td style="text-align: right;">57092</td>
<td style="text-align: right;">15.255</td>
<td style="text-align: right;">35461</td>
<td style="text-align: right;">14.537</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">26953</td>
<td style="text-align: right;">6.37</td>
<td style="text-align: right;">24660</td>
<td style="text-align: right;">6.589</td>
<td style="text-align: right;">22679</td>
<td style="text-align: right;">9.297</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">113456</td>
<td style="text-align: right;">26.81</td>
<td style="text-align: right;">103909</td>
<td style="text-align: right;">27.764</td>
<td style="text-align: right;">69641</td>
<td style="text-align: right;">28.549</td>
</tr>
</tbody>
</table>
</section>
<section id="calaveras" class="level2">
<h2>Calaveras</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">12001</td>
<td style="text-align: right;">14.339</td>
<td style="text-align: right;">12001</td>
<td style="text-align: right;">16.067</td>
<td style="text-align: right;">11774</td>
<td style="text-align: right;">21.528</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">30066</td>
<td style="text-align: right;">35.923</td>
<td style="text-align: right;">24685</td>
<td style="text-align: right;">33.047</td>
<td style="text-align: right;">14771</td>
<td style="text-align: right;">27.008</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">12599</td>
<td style="text-align: right;">15.054</td>
<td style="text-align: right;">12599</td>
<td style="text-align: right;">16.868</td>
<td style="text-align: right;">11430</td>
<td style="text-align: right;">20.899</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">4477</td>
<td style="text-align: right;">5.349</td>
<td style="text-align: right;">3982</td>
<td style="text-align: right;">5.332</td>
<td style="text-align: right;">3132</td>
<td style="text-align: right;">5.727</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">24553</td>
<td style="text-align: right;">29.335</td>
<td style="text-align: right;">21428</td>
<td style="text-align: right;">28.687</td>
<td style="text-align: right;">13584</td>
<td style="text-align: right;">24.837</td>
</tr>
</tbody>
</table>
</section>
<section id="colusa" class="level2">
<h2>Colusa</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">6907</td>
<td style="text-align: right;">14.635</td>
<td style="text-align: right;">6787</td>
<td style="text-align: right;">15.80</td>
<td style="text-align: right;">4840</td>
<td style="text-align: right;">19.216</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">23503</td>
<td style="text-align: right;">49.802</td>
<td style="text-align: right;">19742</td>
<td style="text-align: right;">45.95</td>
<td style="text-align: right;">10278</td>
<td style="text-align: right;">40.806</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">2749</td>
<td style="text-align: right;">5.825</td>
<td style="text-align: right;">2715</td>
<td style="text-align: right;">6.32</td>
<td style="text-align: right;">2213</td>
<td style="text-align: right;">8.787</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">4890</td>
<td style="text-align: right;">10.362</td>
<td style="text-align: right;">4890</td>
<td style="text-align: right;">11.38</td>
<td style="text-align: right;">2958</td>
<td style="text-align: right;">11.743</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">9144</td>
<td style="text-align: right;">19.376</td>
<td style="text-align: right;">8828</td>
<td style="text-align: right;">20.55</td>
<td style="text-align: right;">4898</td>
<td style="text-align: right;">19.447</td>
</tr>
</tbody>
</table>
</section>
<section id="del-norte" class="level2">
<h2>Del Norte</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">6401</td>
<td style="text-align: right;">13.243</td>
<td style="text-align: right;">6372</td>
<td style="text-align: right;">14.551</td>
<td style="text-align: right;">6131</td>
<td style="text-align: right;">18.598</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">18854</td>
<td style="text-align: right;">39.006</td>
<td style="text-align: right;">15405</td>
<td style="text-align: right;">35.177</td>
<td style="text-align: right;">9356</td>
<td style="text-align: right;">28.383</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">6773</td>
<td style="text-align: right;">14.013</td>
<td style="text-align: right;">6773</td>
<td style="text-align: right;">15.467</td>
<td style="text-align: right;">5267</td>
<td style="text-align: right;">15.979</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">3412</td>
<td style="text-align: right;">7.059</td>
<td style="text-align: right;">3054</td>
<td style="text-align: right;">6.974</td>
<td style="text-align: right;">2722</td>
<td style="text-align: right;">8.257</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">12895</td>
<td style="text-align: right;">26.679</td>
<td style="text-align: right;">12188</td>
<td style="text-align: right;">27.831</td>
<td style="text-align: right;">9489</td>
<td style="text-align: right;">28.784</td>
</tr>
</tbody>
</table>
</section>
<section id="fresno" class="level2">
<h2>Fresno</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">261903</td>
<td style="text-align: right;">14.104</td>
<td style="text-align: right;">247455</td>
<td style="text-align: right;">15.365</td>
<td style="text-align: right;">227695</td>
<td style="text-align: right;">22.232</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">819412</td>
<td style="text-align: right;">44.127</td>
<td style="text-align: right;">667512</td>
<td style="text-align: right;">41.447</td>
<td style="text-align: right;">340583</td>
<td style="text-align: right;">33.255</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">206587</td>
<td style="text-align: right;">11.125</td>
<td style="text-align: right;">171727</td>
<td style="text-align: right;">10.663</td>
<td style="text-align: right;">108023</td>
<td style="text-align: right;">10.548</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">105171</td>
<td style="text-align: right;">5.664</td>
<td style="text-align: right;">100631</td>
<td style="text-align: right;">6.248</td>
<td style="text-align: right;">98598</td>
<td style="text-align: right;">9.627</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">463882</td>
<td style="text-align: right;">24.981</td>
<td style="text-align: right;">423185</td>
<td style="text-align: right;">26.276</td>
<td style="text-align: right;">249258</td>
<td style="text-align: right;">24.338</td>
</tr>
</tbody>
</table>
</section>
<section id="glenn" class="level2">
<h2>Glenn</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">9421</td>
<td style="text-align: right;">19.340</td>
<td style="text-align: right;">9065</td>
<td style="text-align: right;">20.886</td>
<td style="text-align: right;">8662</td>
<td style="text-align: right;">30.062</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">21230</td>
<td style="text-align: right;">43.581</td>
<td style="text-align: right;">17478</td>
<td style="text-align: right;">40.271</td>
<td style="text-align: right;">7909</td>
<td style="text-align: right;">27.449</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">4482</td>
<td style="text-align: right;">9.201</td>
<td style="text-align: right;">4161</td>
<td style="text-align: right;">9.588</td>
<td style="text-align: right;">2652</td>
<td style="text-align: right;">9.205</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">2586</td>
<td style="text-align: right;">5.308</td>
<td style="text-align: right;">2474</td>
<td style="text-align: right;">5.701</td>
<td style="text-align: right;">2405</td>
<td style="text-align: right;">8.347</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">10995</td>
<td style="text-align: right;">22.570</td>
<td style="text-align: right;">10223</td>
<td style="text-align: right;">23.554</td>
<td style="text-align: right;">7185</td>
<td style="text-align: right;">24.937</td>
</tr>
</tbody>
</table>
</section>
<section id="humboldt" class="level2">
<h2>Humboldt</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">45108</td>
<td style="text-align: right;">15.494</td>
<td style="text-align: right;">39620</td>
<td style="text-align: right;">16.406</td>
<td style="text-align: right;">37393</td>
<td style="text-align: right;">20.907</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">100407</td>
<td style="text-align: right;">34.489</td>
<td style="text-align: right;">80121</td>
<td style="text-align: right;">33.178</td>
<td style="text-align: right;">48687</td>
<td style="text-align: right;">27.221</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">52656</td>
<td style="text-align: right;">18.087</td>
<td style="text-align: right;">42036</td>
<td style="text-align: right;">17.407</td>
<td style="text-align: right;">35128</td>
<td style="text-align: right;">19.641</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">13127</td>
<td style="text-align: right;">4.509</td>
<td style="text-align: right;">12265</td>
<td style="text-align: right;">5.079</td>
<td style="text-align: right;">11093</td>
<td style="text-align: right;">6.202</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">79828</td>
<td style="text-align: right;">27.420</td>
<td style="text-align: right;">67447</td>
<td style="text-align: right;">27.930</td>
<td style="text-align: right;">46555</td>
<td style="text-align: right;">26.029</td>
</tr>
</tbody>
</table>
</section>
<section id="inyo" class="level2">
<h2>Inyo</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">5887</td>
<td style="text-align: right;">15.11</td>
<td style="text-align: right;">4703</td>
<td style="text-align: right;">14.67</td>
<td style="text-align: right;">4663</td>
<td style="text-align: right;">18.53</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">14132</td>
<td style="text-align: right;">36.27</td>
<td style="text-align: right;">11270</td>
<td style="text-align: right;">35.14</td>
<td style="text-align: right;">6850</td>
<td style="text-align: right;">27.22</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">4338</td>
<td style="text-align: right;">11.13</td>
<td style="text-align: right;">3319</td>
<td style="text-align: right;">10.35</td>
<td style="text-align: right;">2825</td>
<td style="text-align: right;">11.23</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">4767</td>
<td style="text-align: right;">12.23</td>
<td style="text-align: right;">4529</td>
<td style="text-align: right;">14.12</td>
<td style="text-align: right;">4493</td>
<td style="text-align: right;">17.85</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">9844</td>
<td style="text-align: right;">25.26</td>
<td style="text-align: right;">8248</td>
<td style="text-align: right;">25.72</td>
<td style="text-align: right;">6335</td>
<td style="text-align: right;">25.17</td>
</tr>
</tbody>
</table>
</section>
<section id="kern" class="level2">
<h2>Kern</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">213973</td>
<td style="text-align: right;">13.613</td>
<td style="text-align: right;">200931</td>
<td style="text-align: right;">15.111</td>
<td style="text-align: right;">179297</td>
<td style="text-align: right;">21.204</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">600853</td>
<td style="text-align: right;">38.228</td>
<td style="text-align: right;">471838</td>
<td style="text-align: right;">35.485</td>
<td style="text-align: right;">243650</td>
<td style="text-align: right;">28.815</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">264682</td>
<td style="text-align: right;">16.840</td>
<td style="text-align: right;">223468</td>
<td style="text-align: right;">16.806</td>
<td style="text-align: right;">136608</td>
<td style="text-align: right;">16.156</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">79042</td>
<td style="text-align: right;">5.029</td>
<td style="text-align: right;">78013</td>
<td style="text-align: right;">5.867</td>
<td style="text-align: right;">69156</td>
<td style="text-align: right;">8.179</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">413222</td>
<td style="text-align: right;">26.290</td>
<td style="text-align: right;">355419</td>
<td style="text-align: right;">26.730</td>
<td style="text-align: right;">216853</td>
<td style="text-align: right;">25.646</td>
</tr>
</tbody>
</table>
</section>
<section id="kings" class="level2">
<h2>Kings</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">34362</td>
<td style="text-align: right;">11.656</td>
<td style="text-align: right;">32043</td>
<td style="text-align: right;">13.123</td>
<td style="text-align: right;">24154</td>
<td style="text-align: right;">18.563</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">136136</td>
<td style="text-align: right;">46.179</td>
<td style="text-align: right;">105745</td>
<td style="text-align: right;">43.308</td>
<td style="text-align: right;">50931</td>
<td style="text-align: right;">39.142</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">61683</td>
<td style="text-align: right;">20.924</td>
<td style="text-align: right;">49168</td>
<td style="text-align: right;">20.137</td>
<td style="text-align: right;">19946</td>
<td style="text-align: right;">15.329</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">6298</td>
<td style="text-align: right;">2.136</td>
<td style="text-align: right;">6298</td>
<td style="text-align: right;">2.579</td>
<td style="text-align: right;">4911</td>
<td style="text-align: right;">3.774</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">56320</td>
<td style="text-align: right;">19.104</td>
<td style="text-align: right;">50916</td>
<td style="text-align: right;">20.853</td>
<td style="text-align: right;">30176</td>
<td style="text-align: right;">23.192</td>
</tr>
</tbody>
</table>
</section>
<section id="lake" class="level2">
<h2>Lake</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">16461</td>
<td style="text-align: right;">12.395</td>
<td style="text-align: right;">16255</td>
<td style="text-align: right;">13.880</td>
<td style="text-align: right;">15762</td>
<td style="text-align: right;">19.553</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">46323</td>
<td style="text-align: right;">34.879</td>
<td style="text-align: right;">41841</td>
<td style="text-align: right;">35.727</td>
<td style="text-align: right;">21368</td>
<td style="text-align: right;">26.506</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">22348</td>
<td style="text-align: right;">16.827</td>
<td style="text-align: right;">16264</td>
<td style="text-align: right;">13.887</td>
<td style="text-align: right;">14689</td>
<td style="text-align: right;">18.221</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">8674</td>
<td style="text-align: right;">6.531</td>
<td style="text-align: right;">8674</td>
<td style="text-align: right;">7.407</td>
<td style="text-align: right;">5532</td>
<td style="text-align: right;">6.863</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">39004</td>
<td style="text-align: right;">29.368</td>
<td style="text-align: right;">34080</td>
<td style="text-align: right;">29.100</td>
<td style="text-align: right;">23263</td>
<td style="text-align: right;">28.857</td>
</tr>
</tbody>
</table>
</section>
<section id="lassen" class="level2">
<h2>Lassen</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">8008</td>
<td style="text-align: right;">14.909</td>
<td style="text-align: right;">7193</td>
<td style="text-align: right;">14.298</td>
<td style="text-align: right;">6240</td>
<td style="text-align: right;">18.185</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">14331</td>
<td style="text-align: right;">26.681</td>
<td style="text-align: right;">13136</td>
<td style="text-align: right;">26.113</td>
<td style="text-align: right;">7577</td>
<td style="text-align: right;">22.081</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">6430</td>
<td style="text-align: right;">11.972</td>
<td style="text-align: right;">6430</td>
<td style="text-align: right;">12.782</td>
<td style="text-align: right;">4687</td>
<td style="text-align: right;">13.659</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">2775</td>
<td style="text-align: right;">5.166</td>
<td style="text-align: right;">1764</td>
<td style="text-align: right;">3.507</td>
<td style="text-align: right;">1650</td>
<td style="text-align: right;">4.808</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">22168</td>
<td style="text-align: right;">41.272</td>
<td style="text-align: right;">21783</td>
<td style="text-align: right;">43.300</td>
<td style="text-align: right;">14160</td>
<td style="text-align: right;">41.267</td>
</tr>
</tbody>
</table>
</section>
<section id="madera" class="level2">
<h2>Madera</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">40313</td>
<td style="text-align: right;">14.101</td>
<td style="text-align: right;">33984</td>
<td style="text-align: right;">14.377</td>
<td style="text-align: right;">28892</td>
<td style="text-align: right;">20.378</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">140212</td>
<td style="text-align: right;">49.045</td>
<td style="text-align: right;">106745</td>
<td style="text-align: right;">45.158</td>
<td style="text-align: right;">48556</td>
<td style="text-align: right;">34.247</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">42572</td>
<td style="text-align: right;">14.891</td>
<td style="text-align: right;">40355</td>
<td style="text-align: right;">17.072</td>
<td style="text-align: right;">26867</td>
<td style="text-align: right;">18.949</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">9815</td>
<td style="text-align: right;">3.433</td>
<td style="text-align: right;">9714</td>
<td style="text-align: right;">4.109</td>
<td style="text-align: right;">9403</td>
<td style="text-align: right;">6.632</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">52971</td>
<td style="text-align: right;">18.529</td>
<td style="text-align: right;">45585</td>
<td style="text-align: right;">19.284</td>
<td style="text-align: right;">28065</td>
<td style="text-align: right;">19.795</td>
</tr>
</tbody>
</table>
</section>
<section id="mariposa" class="level2">
<h2>Mariposa</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">3566</td>
<td style="text-align: right;">13.15</td>
<td style="text-align: right;">3372</td>
<td style="text-align: right;">13.524</td>
<td style="text-align: right;">3022.3</td>
<td style="text-align: right;">19.802</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">9657</td>
<td style="text-align: right;">35.60</td>
<td style="text-align: right;">8359</td>
<td style="text-align: right;">33.523</td>
<td style="text-align: right;">4417.3</td>
<td style="text-align: right;">28.941</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">3985</td>
<td style="text-align: right;">14.69</td>
<td style="text-align: right;">3769</td>
<td style="text-align: right;">15.114</td>
<td style="text-align: right;">2593.1</td>
<td style="text-align: right;">16.990</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">1044</td>
<td style="text-align: right;">3.85</td>
<td style="text-align: right;">1027</td>
<td style="text-align: right;">4.117</td>
<td style="text-align: right;">545.2</td>
<td style="text-align: right;">3.572</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">8873</td>
<td style="text-align: right;">32.71</td>
<td style="text-align: right;">8408</td>
<td style="text-align: right;">33.721</td>
<td style="text-align: right;">4685.0</td>
<td style="text-align: right;">30.695</td>
</tr>
</tbody>
</table>
</section>
<section id="mendocino" class="level2">
<h2>Mendocino</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">30944</td>
<td style="text-align: right;">13.802</td>
<td style="text-align: right;">30222</td>
<td style="text-align: right;">16.265</td>
<td style="text-align: right;">27234</td>
<td style="text-align: right;">21.64</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">72513</td>
<td style="text-align: right;">32.344</td>
<td style="text-align: right;">58994</td>
<td style="text-align: right;">31.749</td>
<td style="text-align: right;">28223</td>
<td style="text-align: right;">22.43</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">38065</td>
<td style="text-align: right;">16.979</td>
<td style="text-align: right;">35359</td>
<td style="text-align: right;">19.029</td>
<td style="text-align: right;">24509</td>
<td style="text-align: right;">19.48</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">19177</td>
<td style="text-align: right;">8.554</td>
<td style="text-align: right;">17200</td>
<td style="text-align: right;">9.257</td>
<td style="text-align: right;">16712</td>
<td style="text-align: right;">13.28</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">63493</td>
<td style="text-align: right;">28.321</td>
<td style="text-align: right;">44039</td>
<td style="text-align: right;">23.701</td>
<td style="text-align: right;">29145</td>
<td style="text-align: right;">23.16</td>
</tr>
</tbody>
</table>
</section>
<section id="merced" class="level2">
<h2>Merced</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">51795</td>
<td style="text-align: right;">9.676</td>
<td style="text-align: right;">49238</td>
<td style="text-align: right;">10.163</td>
<td style="text-align: right;">46590</td>
<td style="text-align: right;">16.385</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">213265</td>
<td style="text-align: right;">39.842</td>
<td style="text-align: right;">179156</td>
<td style="text-align: right;">36.979</td>
<td style="text-align: right;">82304</td>
<td style="text-align: right;">28.946</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">84683</td>
<td style="text-align: right;">15.820</td>
<td style="text-align: right;">79840</td>
<td style="text-align: right;">16.479</td>
<td style="text-align: right;">52852</td>
<td style="text-align: right;">18.588</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">17459</td>
<td style="text-align: right;">3.262</td>
<td style="text-align: right;">16882</td>
<td style="text-align: right;">3.485</td>
<td style="text-align: right;">16058</td>
<td style="text-align: right;">5.647</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">168081</td>
<td style="text-align: right;">31.400</td>
<td style="text-align: right;">159365</td>
<td style="text-align: right;">32.894</td>
<td style="text-align: right;">86537</td>
<td style="text-align: right;">30.434</td>
</tr>
</tbody>
</table>
</section>
<section id="modoc" class="level2">
<h2>Modoc</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">2206.9</td>
<td style="text-align: right;">11.829</td>
<td style="text-align: right;">2094.8</td>
<td style="text-align: right;">12.065</td>
<td style="text-align: right;">1953.9</td>
<td style="text-align: right;">18.148</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">9284.3</td>
<td style="text-align: right;">49.766</td>
<td style="text-align: right;">8505.6</td>
<td style="text-align: right;">48.988</td>
<td style="text-align: right;">4558.0</td>
<td style="text-align: right;">42.335</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">2146.8</td>
<td style="text-align: right;">11.507</td>
<td style="text-align: right;">1807.3</td>
<td style="text-align: right;">10.409</td>
<td style="text-align: right;">1438.6</td>
<td style="text-align: right;">13.362</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">490.3</td>
<td style="text-align: right;">2.628</td>
<td style="text-align: right;">490.3</td>
<td style="text-align: right;">2.824</td>
<td style="text-align: right;">485.9</td>
<td style="text-align: right;">4.514</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">4527.7</td>
<td style="text-align: right;">24.270</td>
<td style="text-align: right;">4464.5</td>
<td style="text-align: right;">25.714</td>
<td style="text-align: right;">2329.9</td>
<td style="text-align: right;">21.641</td>
</tr>
</tbody>
</table>
</section>
<section id="mono" class="level2">
<h2>Mono</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">3584.7</td>
<td style="text-align: right;">14.812</td>
<td style="text-align: right;">3055.2</td>
<td style="text-align: right;">16.564</td>
<td style="text-align: right;">3055.2</td>
<td style="text-align: right;">20.203</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">10546.5</td>
<td style="text-align: right;">43.578</td>
<td style="text-align: right;">6156.3</td>
<td style="text-align: right;">33.376</td>
<td style="text-align: right;">3827.3</td>
<td style="text-align: right;">25.309</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">4070.2</td>
<td style="text-align: right;">16.818</td>
<td style="text-align: right;">4070.2</td>
<td style="text-align: right;">22.067</td>
<td style="text-align: right;">3611.8</td>
<td style="text-align: right;">23.884</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">421.2</td>
<td style="text-align: right;">1.741</td>
<td style="text-align: right;">421.2</td>
<td style="text-align: right;">2.284</td>
<td style="text-align: right;">421.2</td>
<td style="text-align: right;">2.786</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">5579.0</td>
<td style="text-align: right;">23.052</td>
<td style="text-align: right;">4742.2</td>
<td style="text-align: right;">25.710</td>
<td style="text-align: right;">4206.8</td>
<td style="text-align: right;">27.818</td>
</tr>
</tbody>
</table>
</section>
<section id="mtc" class="level2">
<h2>MTC</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">2445098</td>
<td style="text-align: right;">12.084</td>
<td style="text-align: right;">2131143</td>
<td style="text-align: right;">13.192</td>
<td style="text-align: right;">1947584</td>
<td style="text-align: right;">18.401</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">8112451</td>
<td style="text-align: right;">40.092</td>
<td style="text-align: right;">6311371</td>
<td style="text-align: right;">39.068</td>
<td style="text-align: right;">3340335</td>
<td style="text-align: right;">31.560</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">2495060</td>
<td style="text-align: right;">12.331</td>
<td style="text-align: right;">2109249</td>
<td style="text-align: right;">13.057</td>
<td style="text-align: right;">1542353</td>
<td style="text-align: right;">14.572</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">1435326</td>
<td style="text-align: right;">7.093</td>
<td style="text-align: right;">1071593</td>
<td style="text-align: right;">6.633</td>
<td style="text-align: right;">901337</td>
<td style="text-align: right;">8.516</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">5746521</td>
<td style="text-align: right;">28.400</td>
<td style="text-align: right;">4531289</td>
<td style="text-align: right;">28.049</td>
<td style="text-align: right;">2852555</td>
<td style="text-align: right;">26.951</td>
</tr>
</tbody>
</table>
</section>
<section id="nevada" class="level2">
<h2>Nevada</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">29072</td>
<td style="text-align: right;">14.426</td>
<td style="text-align: right;">27184</td>
<td style="text-align: right;">14.816</td>
<td style="text-align: right;">24030</td>
<td style="text-align: right;">17.59</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">68948</td>
<td style="text-align: right;">34.214</td>
<td style="text-align: right;">61174</td>
<td style="text-align: right;">33.343</td>
<td style="text-align: right;">36370</td>
<td style="text-align: right;">26.63</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">29793</td>
<td style="text-align: right;">14.784</td>
<td style="text-align: right;">28870</td>
<td style="text-align: right;">15.735</td>
<td style="text-align: right;">25721</td>
<td style="text-align: right;">18.83</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">12974</td>
<td style="text-align: right;">6.438</td>
<td style="text-align: right;">9998</td>
<td style="text-align: right;">5.449</td>
<td style="text-align: right;">9520</td>
<td style="text-align: right;">6.97</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">60730</td>
<td style="text-align: right;">30.136</td>
<td style="text-align: right;">56246</td>
<td style="text-align: right;">30.656</td>
<td style="text-align: right;">40934</td>
<td style="text-align: right;">29.97</td>
</tr>
</tbody>
</table>
</section>
<section id="plumas" class="level2">
<h2>Plumas</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">5796</td>
<td style="text-align: right;">13.89</td>
<td style="text-align: right;">5529</td>
<td style="text-align: right;">14.535</td>
<td style="text-align: right;">5051</td>
<td style="text-align: right;">20.083</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">14654</td>
<td style="text-align: right;">35.12</td>
<td style="text-align: right;">12744</td>
<td style="text-align: right;">33.503</td>
<td style="text-align: right;">6479</td>
<td style="text-align: right;">25.758</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">7048</td>
<td style="text-align: right;">16.89</td>
<td style="text-align: right;">6950</td>
<td style="text-align: right;">18.269</td>
<td style="text-align: right;">5903</td>
<td style="text-align: right;">23.469</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">2036</td>
<td style="text-align: right;">4.88</td>
<td style="text-align: right;">1880</td>
<td style="text-align: right;">4.942</td>
<td style="text-align: right;">1743</td>
<td style="text-align: right;">6.928</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">12187</td>
<td style="text-align: right;">29.21</td>
<td style="text-align: right;">10937</td>
<td style="text-align: right;">28.751</td>
<td style="text-align: right;">5977</td>
<td style="text-align: right;">23.763</td>
</tr>
</tbody>
</table>
</section>
<section id="sacog" class="level2">
<h2>SACOG</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">601811</td>
<td style="text-align: right;">13.249</td>
<td style="text-align: right;">551769</td>
<td style="text-align: right;">13.764</td>
<td style="text-align: right;">511630</td>
<td style="text-align: right;">19.138</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">1994178</td>
<td style="text-align: right;">43.902</td>
<td style="text-align: right;">1709037</td>
<td style="text-align: right;">42.631</td>
<td style="text-align: right;">918026</td>
<td style="text-align: right;">34.340</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">568070</td>
<td style="text-align: right;">12.506</td>
<td style="text-align: right;">502281</td>
<td style="text-align: right;">12.529</td>
<td style="text-align: right;">378095</td>
<td style="text-align: right;">14.143</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">254181</td>
<td style="text-align: right;">5.596</td>
<td style="text-align: right;">222711</td>
<td style="text-align: right;">5.555</td>
<td style="text-align: right;">194166</td>
<td style="text-align: right;">7.263</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">1124119</td>
<td style="text-align: right;">24.747</td>
<td style="text-align: right;">1023082</td>
<td style="text-align: right;">25.520</td>
<td style="text-align: right;">671404</td>
<td style="text-align: right;">25.115</td>
</tr>
</tbody>
</table>
</section>
<section id="san-joaquin" class="level2">
<h2>San Joaquin</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">196240</td>
<td style="text-align: right;">14.936</td>
<td style="text-align: right;">189228</td>
<td style="text-align: right;">16.598</td>
<td style="text-align: right;">169462</td>
<td style="text-align: right;">22.982</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">547993</td>
<td style="text-align: right;">41.709</td>
<td style="text-align: right;">442664</td>
<td style="text-align: right;">38.829</td>
<td style="text-align: right;">234980</td>
<td style="text-align: right;">31.867</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">197366</td>
<td style="text-align: right;">15.022</td>
<td style="text-align: right;">171919</td>
<td style="text-align: right;">15.080</td>
<td style="text-align: right;">117582</td>
<td style="text-align: right;">15.946</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">63048</td>
<td style="text-align: right;">4.799</td>
<td style="text-align: right;">61057</td>
<td style="text-align: right;">5.356</td>
<td style="text-align: right;">45963</td>
<td style="text-align: right;">6.233</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">309193</td>
<td style="text-align: right;">23.534</td>
<td style="text-align: right;">275163</td>
<td style="text-align: right;">24.136</td>
<td style="text-align: right;">169384</td>
<td style="text-align: right;">22.971</td>
</tr>
</tbody>
</table>
</section>
<section id="san-luis-obispo" class="level2">
<h2>San Luis Obispo</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">93175</td>
<td style="text-align: right;">14.571</td>
<td style="text-align: right;">88034</td>
<td style="text-align: right;">15.379</td>
<td style="text-align: right;">84578</td>
<td style="text-align: right;">20.488</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">268405</td>
<td style="text-align: right;">41.973</td>
<td style="text-align: right;">234553</td>
<td style="text-align: right;">40.975</td>
<td style="text-align: right;">135425</td>
<td style="text-align: right;">32.805</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">82470</td>
<td style="text-align: right;">12.897</td>
<td style="text-align: right;">75382</td>
<td style="text-align: right;">13.169</td>
<td style="text-align: right;">59683</td>
<td style="text-align: right;">14.458</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">41687</td>
<td style="text-align: right;">6.519</td>
<td style="text-align: right;">38654</td>
<td style="text-align: right;">6.753</td>
<td style="text-align: right;">34647</td>
<td style="text-align: right;">8.393</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">153735</td>
<td style="text-align: right;">24.041</td>
<td style="text-align: right;">135812</td>
<td style="text-align: right;">23.725</td>
<td style="text-align: right;">98479</td>
<td style="text-align: right;">23.856</td>
</tr>
</tbody>
</table>
</section>
<section id="sandag" class="level2">
<h2>SANDAG</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">743343</td>
<td style="text-align: right;">12.737</td>
<td style="text-align: right;">710778</td>
<td style="text-align: right;">14.09</td>
<td style="text-align: right;">647700</td>
<td style="text-align: right;">19.967</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">2401059</td>
<td style="text-align: right;">41.142</td>
<td style="text-align: right;">1966795</td>
<td style="text-align: right;">38.99</td>
<td style="text-align: right;">1024863</td>
<td style="text-align: right;">31.595</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">787850</td>
<td style="text-align: right;">13.500</td>
<td style="text-align: right;">697330</td>
<td style="text-align: right;">13.82</td>
<td style="text-align: right;">482436</td>
<td style="text-align: right;">14.873</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">319889</td>
<td style="text-align: right;">5.481</td>
<td style="text-align: right;">283484</td>
<td style="text-align: right;">5.62</td>
<td style="text-align: right;">258463</td>
<td style="text-align: right;">7.968</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">1583951</td>
<td style="text-align: right;">27.141</td>
<td style="text-align: right;">1386081</td>
<td style="text-align: right;">27.48</td>
<td style="text-align: right;">830327</td>
<td style="text-align: right;">25.597</td>
</tr>
</tbody>
</table>
</section>
<section id="santa-barbara" class="level2">
<h2>Santa Barbara</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">160252</td>
<td style="text-align: right;">15.800</td>
<td style="text-align: right;">141037</td>
<td style="text-align: right;">17.137</td>
<td style="text-align: right;">128695</td>
<td style="text-align: right;">21.859</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">421875</td>
<td style="text-align: right;">41.595</td>
<td style="text-align: right;">324621</td>
<td style="text-align: right;">39.445</td>
<td style="text-align: right;">197364</td>
<td style="text-align: right;">33.523</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">114484</td>
<td style="text-align: right;">11.288</td>
<td style="text-align: right;">89887</td>
<td style="text-align: right;">10.922</td>
<td style="text-align: right;">70831</td>
<td style="text-align: right;">12.031</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">74786</td>
<td style="text-align: right;">7.374</td>
<td style="text-align: right;">60961</td>
<td style="text-align: right;">7.407</td>
<td style="text-align: right;">56796</td>
<td style="text-align: right;">9.647</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">242847</td>
<td style="text-align: right;">23.944</td>
<td style="text-align: right;">206467</td>
<td style="text-align: right;">25.088</td>
<td style="text-align: right;">135053</td>
<td style="text-align: right;">22.939</td>
</tr>
</tbody>
</table>
</section>
<section id="scag" class="level2">
<h2>SCAG</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">4641225</td>
<td style="text-align: right;">13.924</td>
<td style="text-align: right;">4370424</td>
<td style="text-align: right;">15.544</td>
<td style="text-align: right;">4000268</td>
<td style="text-align: right;">22.128</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">14472695</td>
<td style="text-align: right;">43.419</td>
<td style="text-align: right;">11545708</td>
<td style="text-align: right;">41.065</td>
<td style="text-align: right;">5843610</td>
<td style="text-align: right;">32.325</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">4314492</td>
<td style="text-align: right;">12.944</td>
<td style="text-align: right;">3771938</td>
<td style="text-align: right;">13.416</td>
<td style="text-align: right;">2646180</td>
<td style="text-align: right;">14.638</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">1714291</td>
<td style="text-align: right;">5.143</td>
<td style="text-align: right;">1507475</td>
<td style="text-align: right;">5.362</td>
<td style="text-align: right;">1333525</td>
<td style="text-align: right;">7.377</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">8190175</td>
<td style="text-align: right;">24.571</td>
<td style="text-align: right;">6920293</td>
<td style="text-align: right;">24.614</td>
<td style="text-align: right;">4253964</td>
<td style="text-align: right;">23.532</td>
</tr>
</tbody>
</table>
</section>
<section id="shasta" class="level2">
<h2>Shasta</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">51550</td>
<td style="text-align: right;">11.511</td>
<td style="text-align: right;">49668</td>
<td style="text-align: right;">12.080</td>
<td style="text-align: right;">45586</td>
<td style="text-align: right;">17.745</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">159048</td>
<td style="text-align: right;">35.517</td>
<td style="text-align: right;">148359</td>
<td style="text-align: right;">36.082</td>
<td style="text-align: right;">85748</td>
<td style="text-align: right;">33.378</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">57675</td>
<td style="text-align: right;">12.879</td>
<td style="text-align: right;">52750</td>
<td style="text-align: right;">12.829</td>
<td style="text-align: right;">30693</td>
<td style="text-align: right;">11.948</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">18830</td>
<td style="text-align: right;">4.205</td>
<td style="text-align: right;">17945</td>
<td style="text-align: right;">4.365</td>
<td style="text-align: right;">17945</td>
<td style="text-align: right;">6.985</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">160712</td>
<td style="text-align: right;">35.888</td>
<td style="text-align: right;">142445</td>
<td style="text-align: right;">34.644</td>
<td style="text-align: right;">76926</td>
<td style="text-align: right;">29.944</td>
</tr>
</tbody>
</table>
</section>
<section id="sierra" class="level2">
<h2>Sierra</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">588.6</td>
<td style="text-align: right;">11.722</td>
<td style="text-align: right;">218.2</td>
<td style="text-align: right;">5.214</td>
<td style="text-align: right;">195.3</td>
<td style="text-align: right;">8.314</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">1305.8</td>
<td style="text-align: right;">26.004</td>
<td style="text-align: right;">1043.9</td>
<td style="text-align: right;">24.945</td>
<td style="text-align: right;">831.7</td>
<td style="text-align: right;">35.407</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">937.7</td>
<td style="text-align: right;">18.674</td>
<td style="text-align: right;">737.5</td>
<td style="text-align: right;">17.623</td>
<td style="text-align: right;">472.1</td>
<td style="text-align: right;">20.096</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">198.9</td>
<td style="text-align: right;">3.961</td>
<td style="text-align: right;">198.9</td>
<td style="text-align: right;">4.753</td>
<td style="text-align: right;">186.4</td>
<td style="text-align: right;">7.937</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">1990.5</td>
<td style="text-align: right;">39.639</td>
<td style="text-align: right;">1986.3</td>
<td style="text-align: right;">47.465</td>
<td style="text-align: right;">663.5</td>
<td style="text-align: right;">28.246</td>
</tr>
</tbody>
</table>
</section>
<section id="siskiyou" class="level2">
<h2>Siskiyou</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">17493</td>
<td style="text-align: right;">18.076</td>
<td style="text-align: right;">15515</td>
<td style="text-align: right;">17.964</td>
<td style="text-align: right;">13186</td>
<td style="text-align: right;">23.248</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">33481</td>
<td style="text-align: right;">34.598</td>
<td style="text-align: right;">26542</td>
<td style="text-align: right;">30.731</td>
<td style="text-align: right;">15681</td>
<td style="text-align: right;">27.646</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">10244</td>
<td style="text-align: right;">10.585</td>
<td style="text-align: right;">9911</td>
<td style="text-align: right;">11.475</td>
<td style="text-align: right;">6138</td>
<td style="text-align: right;">10.821</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">4691</td>
<td style="text-align: right;">4.847</td>
<td style="text-align: right;">4691</td>
<td style="text-align: right;">5.431</td>
<td style="text-align: right;">3905</td>
<td style="text-align: right;">6.885</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">30866</td>
<td style="text-align: right;">31.895</td>
<td style="text-align: right;">29709</td>
<td style="text-align: right;">34.398</td>
<td style="text-align: right;">17811</td>
<td style="text-align: right;">31.400</td>
</tr>
</tbody>
</table>
</section>
<section id="stanislaus" class="level2">
<h2>Stanislaus</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">122271</td>
<td style="text-align: right;">14.17</td>
<td style="text-align: right;">120599</td>
<td style="text-align: right;">15.795</td>
<td style="text-align: right;">109039</td>
<td style="text-align: right;">21.940</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">363370</td>
<td style="text-align: right;">42.10</td>
<td style="text-align: right;">304164</td>
<td style="text-align: right;">39.836</td>
<td style="text-align: right;">159533</td>
<td style="text-align: right;">32.099</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">135684</td>
<td style="text-align: right;">15.72</td>
<td style="text-align: right;">123225</td>
<td style="text-align: right;">16.139</td>
<td style="text-align: right;">84097</td>
<td style="text-align: right;">16.921</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">34530</td>
<td style="text-align: right;">4.00</td>
<td style="text-align: right;">33795</td>
<td style="text-align: right;">4.426</td>
<td style="text-align: right;">31440</td>
<td style="text-align: right;">6.326</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">207335</td>
<td style="text-align: right;">24.02</td>
<td style="text-align: right;">181761</td>
<td style="text-align: right;">23.805</td>
<td style="text-align: right;">112890</td>
<td style="text-align: right;">22.714</td>
</tr>
</tbody>
</table>
</section>
<section id="tehama" class="level2">
<h2>Tehama</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">19155</td>
<td style="text-align: right;">15.199</td>
<td style="text-align: right;">18622</td>
<td style="text-align: right;">16.321</td>
<td style="text-align: right;">17197</td>
<td style="text-align: right;">21.234</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">51545</td>
<td style="text-align: right;">40.899</td>
<td style="text-align: right;">42395</td>
<td style="text-align: right;">37.155</td>
<td style="text-align: right;">24166</td>
<td style="text-align: right;">29.839</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">18630</td>
<td style="text-align: right;">14.782</td>
<td style="text-align: right;">17616</td>
<td style="text-align: right;">15.439</td>
<td style="text-align: right;">12746</td>
<td style="text-align: right;">15.738</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">7336</td>
<td style="text-align: right;">5.821</td>
<td style="text-align: right;">7293</td>
<td style="text-align: right;">6.391</td>
<td style="text-align: right;">6788</td>
<td style="text-align: right;">8.382</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">29362</td>
<td style="text-align: right;">23.298</td>
<td style="text-align: right;">28175</td>
<td style="text-align: right;">24.693</td>
<td style="text-align: right;">20090</td>
<td style="text-align: right;">24.807</td>
</tr>
</tbody>
</table>
</section>
<section id="tmpo" class="level2">
<h2>TMPO</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">9474</td>
<td style="text-align: right;">13.677</td>
<td style="text-align: right;">9174</td>
<td style="text-align: right;">14.941</td>
<td style="text-align: right;">9042</td>
<td style="text-align: right;">21.295</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">20789</td>
<td style="text-align: right;">30.010</td>
<td style="text-align: right;">16980</td>
<td style="text-align: right;">27.654</td>
<td style="text-align: right;">8726</td>
<td style="text-align: right;">20.551</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">10812</td>
<td style="text-align: right;">15.608</td>
<td style="text-align: right;">9903</td>
<td style="text-align: right;">16.129</td>
<td style="text-align: right;">7105</td>
<td style="text-align: right;">16.734</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">4505</td>
<td style="text-align: right;">6.503</td>
<td style="text-align: right;">4260</td>
<td style="text-align: right;">6.937</td>
<td style="text-align: right;">3988</td>
<td style="text-align: right;">9.392</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">23693</td>
<td style="text-align: right;">34.202</td>
<td style="text-align: right;">21084</td>
<td style="text-align: right;">34.339</td>
<td style="text-align: right;">13599</td>
<td style="text-align: right;">32.028</td>
</tr>
</tbody>
</table>
</section>
<section id="trinity" class="level2">
<h2>Trinity</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">2734.8</td>
<td style="text-align: right;">11.043</td>
<td style="text-align: right;">2641.1</td>
<td style="text-align: right;">11.199</td>
<td style="text-align: right;">2489.3</td>
<td style="text-align: right;">15.370</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">7802.7</td>
<td style="text-align: right;">31.508</td>
<td style="text-align: right;">6724.8</td>
<td style="text-align: right;">28.516</td>
<td style="text-align: right;">3288.1</td>
<td style="text-align: right;">20.302</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">4340.4</td>
<td style="text-align: right;">17.527</td>
<td style="text-align: right;">4330.0</td>
<td style="text-align: right;">18.361</td>
<td style="text-align: right;">3168.4</td>
<td style="text-align: right;">19.563</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">645.6</td>
<td style="text-align: right;">2.607</td>
<td style="text-align: right;">645.6</td>
<td style="text-align: right;">2.738</td>
<td style="text-align: right;">612.4</td>
<td style="text-align: right;">3.781</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">9240.9</td>
<td style="text-align: right;">37.315</td>
<td style="text-align: right;">9240.9</td>
<td style="text-align: right;">39.185</td>
<td style="text-align: right;">6637.5</td>
<td style="text-align: right;">40.983</td>
</tr>
</tbody>
</table>
</section>
<section id="tulare" class="level2">
<h2>Tulare</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">140010</td>
<td style="text-align: right;">16.047</td>
<td style="text-align: right;">135059</td>
<td style="text-align: right;">18.229</td>
<td style="text-align: right;">120122</td>
<td style="text-align: right;">24.603</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">336798</td>
<td style="text-align: right;">38.601</td>
<td style="text-align: right;">260142</td>
<td style="text-align: right;">35.111</td>
<td style="text-align: right;">142373</td>
<td style="text-align: right;">29.160</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">116372</td>
<td style="text-align: right;">13.338</td>
<td style="text-align: right;">110599</td>
<td style="text-align: right;">14.928</td>
<td style="text-align: right;">64525</td>
<td style="text-align: right;">13.216</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">49091</td>
<td style="text-align: right;">5.626</td>
<td style="text-align: right;">42450</td>
<td style="text-align: right;">5.729</td>
<td style="text-align: right;">39668</td>
<td style="text-align: right;">8.125</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">230232</td>
<td style="text-align: right;">26.388</td>
<td style="text-align: right;">192653</td>
<td style="text-align: right;">26.002</td>
<td style="text-align: right;">121556</td>
<td style="text-align: right;">24.897</td>
</tr>
</tbody>
</table>
</section>
<section id="tuolumne" class="level2">
<h2>Tuolumne</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Trip Type</th>
<th style="text-align: right;">Total Trips</th>
<th style="text-align: right;">% Total</th>
<th style="text-align: right;">Person Trips</th>
<th style="text-align: right;">% Person Trips</th>
<th style="text-align: right;">Driver Trips</th>
<th style="text-align: right;">% Driver Trips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Home-Work</td>
<td style="text-align: right;">15511</td>
<td style="text-align: right;">12.55</td>
<td style="text-align: right;">14018</td>
<td style="text-align: right;">12.156</td>
<td style="text-align: right;">13092</td>
<td style="text-align: right;">16.003</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home-Other</td>
<td style="text-align: right;">39556</td>
<td style="text-align: right;">32.01</td>
<td style="text-align: right;">36652</td>
<td style="text-align: right;">31.783</td>
<td style="text-align: right;">21477</td>
<td style="text-align: right;">26.253</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home-Shop</td>
<td style="text-align: right;">18508</td>
<td style="text-align: right;">14.98</td>
<td style="text-align: right;">17312</td>
<td style="text-align: right;">15.013</td>
<td style="text-align: right;">12452</td>
<td style="text-align: right;">15.221</td>
</tr>
<tr class="even">
<td style="text-align: left;">Work-Other</td>
<td style="text-align: right;">7439</td>
<td style="text-align: right;">6.02</td>
<td style="text-align: right;">7020</td>
<td style="text-align: right;">6.087</td>
<td style="text-align: right;">6808</td>
<td style="text-align: right;">8.322</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other-Other</td>
<td style="text-align: right;">42556</td>
<td style="text-align: right;">34.44</td>
<td style="text-align: right;">40317</td>
<td style="text-align: right;">34.961</td>
<td style="text-align: right;">27981</td>
<td style="text-align: right;">34.202</td>
</tr>
</tbody>
</table>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Load Hmisc for %nin% operator</span>
<span class="kw">library</span>(Hmisc)
<span class="kw">library</span>(data.table)

weekend &lt;-<span class="st"> </span>df$DOW %in%<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Sa&quot;</span>, <span class="st">&quot;Su&quot;</span>)
weekday &lt;-<span class="st"> </span>df$DOW %nin%<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Sa&quot;</span>, <span class="st">&quot;Su&quot;</span>)

<span class="co"># Per CHTS 2001: * Person trips include all trips except walk, bicycle,</span>
<span class="co"># airplane-commercial, Airplane private, and &#39;other&#39; mode trips.  * Driver</span>
<span class="co"># trips include automobile, pickup truck, RV, Sport Utility Vehicle, van,</span>
<span class="co"># truck, and motorcycle/Moped driver trips</span>
persontrip &lt;-<span class="st"> </span>df$MODE %nin%<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Walk&quot;</span>, <span class="st">&quot;Bike&quot;</span>, <span class="st">&quot;Wheelchair / Mobility Scooter&quot;</span>, 
    <span class="st">&quot;Other Non-Motorized&quot;</span>, <span class="st">&quot;Other Private Transit&quot;</span>, <span class="st">&quot;Other Bus&quot;</span>, <span class="st">&quot;Other Rail&quot;</span>)
drivertrip &lt;-<span class="st"> </span>df$MODE %in%<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Auto / Van / Truck Driver&quot;</span>, <span class="st">&quot;Motorcycle / Scooter / Moped&quot;</span>)


<span class="kw">cat</span>(<span class="kw">paste</span>(<span class="st">&quot;</span><span class="ch">\n\n</span><span class="st">## All Areas</span><span class="ch">\n\n</span><span class="st">&quot;</span>))

<span class="co"># compute totals by type for each class of trip</span>
xt.total &lt;-<span class="st"> </span><span class="kw">xtabs</span>(weight ~<span class="st"> </span>triptype, <span class="dt">data =</span> df[weekday, ])
xt.person &lt;-<span class="st"> </span><span class="kw">xtabs</span>(weight ~<span class="st"> </span>triptype, <span class="dt">data =</span> df[weekday &amp;<span class="st"> </span>persontrip, ])
xt.driver &lt;-<span class="st"> </span><span class="kw">xtabs</span>(weight ~<span class="st"> </span>triptype, <span class="dt">data =</span> df[weekday &amp;<span class="st"> </span>drivertrip, ])

<span class="kw">kable</span>(<span class="kw">data.table</span>(<span class="st">`</span><span class="dt">Trip Type</span><span class="st">`</span> =<span class="st"> </span><span class="kw">names</span>(xt.total), <span class="st">`</span><span class="dt">Total Trips</span><span class="st">`</span> =<span class="st"> </span>xt.total, <span class="st">`</span><span class="dt">% Total</span><span class="st">`</span> =<span class="st"> </span>xt.total/<span class="kw">sum</span>(xt.total) *<span class="st"> </span>
<span class="st">    </span><span class="dv">100</span>, <span class="st">`</span><span class="dt">Person Trips</span><span class="st">`</span> =<span class="st"> </span>xt.person, <span class="st">`</span><span class="dt">% Person Trips</span><span class="st">`</span> =<span class="st"> </span>xt.person/<span class="kw">sum</span>(xt.person) *<span class="st"> </span>
<span class="st">    </span><span class="dv">100</span>, <span class="st">`</span><span class="dt">Driver Trips</span><span class="st">`</span> =<span class="st"> </span>xt.driver, <span class="st">`</span><span class="dt">% Driver Trips</span><span class="st">`</span> =<span class="st"> </span>xt.driver/<span class="kw">sum</span>(xt.driver) *<span class="st"> </span>
<span class="st">    </span><span class="dv">100</span>))

<span class="kw">cat</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)


for (area in <span class="kw">levels</span>(df$AREA)) {
    
    inarea &lt;-<span class="st"> </span>df$AREA ==<span class="st"> </span>area
    
    <span class="co"># compute totals by type for each class of trip</span>
    xt.total &lt;-<span class="st"> </span><span class="kw">xtabs</span>(weight ~<span class="st"> </span>triptype, <span class="dt">data =</span> df[weekday &amp;<span class="st"> </span>inarea, ])
    xt.person &lt;-<span class="st"> </span><span class="kw">xtabs</span>(weight ~<span class="st"> </span>triptype, <span class="dt">data =</span> df[weekday &amp;<span class="st"> </span>persontrip &amp;<span class="st"> </span>inarea, 
        ])
    xt.driver &lt;-<span class="st"> </span><span class="kw">xtabs</span>(weight ~<span class="st"> </span>triptype, <span class="dt">data =</span> df[weekday &amp;<span class="st"> </span>drivertrip &amp;<span class="st"> </span>inarea, 
        ])
    
    <span class="kw">cat</span>(<span class="kw">paste</span>(<span class="st">&quot;</span><span class="ch">\n\n</span><span class="st">##&quot;</span>, area, <span class="st">&quot;</span><span class="ch">\n\n</span><span class="st">&quot;</span>))
    
    <span class="kw">kable</span>(<span class="kw">data.table</span>(<span class="st">`</span><span class="dt">Trip Type</span><span class="st">`</span> =<span class="st"> </span><span class="kw">names</span>(xt.total), <span class="st">`</span><span class="dt">Total Trips</span><span class="st">`</span> =<span class="st"> </span>xt.total, 
        <span class="st">`</span><span class="dt">% Total</span><span class="st">`</span> =<span class="st"> </span>xt.total/<span class="kw">sum</span>(xt.total) *<span class="st"> </span><span class="dv">100</span>, <span class="st">`</span><span class="dt">Person Trips</span><span class="st">`</span> =<span class="st"> </span>xt.person, 
        <span class="st">`</span><span class="dt">% Person Trips</span><span class="st">`</span> =<span class="st"> </span>xt.person/<span class="kw">sum</span>(xt.person) *<span class="st"> </span><span class="dv">100</span>, <span class="st">`</span><span class="dt">Driver Trips</span><span class="st">`</span> =<span class="st"> </span>xt.driver, 
        <span class="st">`</span><span class="dt">% Driver Trips</span><span class="st">`</span> =<span class="st"> </span>xt.driver/<span class="kw">sum</span>(xt.driver) *<span class="st"> </span><span class="dv">100</span>))
    
    <span class="kw">cat</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)
}</code></pre>
</section>
</section>
<section id="data-cleaning" class="level1">
<h1>Data cleaning</h1>
</section>
<section id="more-to-come..." class="level1">
<h1>More to come...</h1>
<p>This is a living document that we are actively improving. Check back often...</p>
</section>
    </div>
  </div>

  <script src="reveal.js/lib/js/head.min.js"></script>
  <script src="reveal.js/js/reveal.min.js"></script>

  <script>

      // Full list of configuration options available here:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: false,
        theme: 'beige', // available themes are in /css/theme
        transition: 'linear', // default/cube/page/concave/zoom/linear/fade/none

        // Optional libraries used to extend on reveal.js
        dependencies: [
          { src: 'reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'reveal.js/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
          { src: 'reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } },
          { src: 'reveal.js/plugin/math/math.js', async: true, condition: function() { return !!document.body.classList; } },
//          { src: 'reveal.js/plugin/search/search.js', async: true, condition: function() { return !!document.body.classList; }, }
//          { src: 'reveal.js/plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
]});
    </script>
  </body>
</html>
